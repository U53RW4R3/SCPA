# Unix Shell

Search Tag(s): #post-exploitation #enumeration-and-discovery #networking #active-directory #windows

## 01 - Samba Suite Utils

```
$ nmblookup -A <IP>
```

## 02 - NBTScan

Scanning for NetBIOS hosts.

```
$ nbtscan <IP>/<CIDR>

$ nbtscan –v –s : <IP>/<CIDR> | cut -d ":" –f 1 > smb-hosts.txt
```

## 03 - NetExec

```
$ netexec smb <IP> -u "<username>" -p "<password>" [-d <domain_name> | --local-auth] --computers
```

## 04 - Impacket

### 4.1 - `netview`

Enumerate computer names with `netview` impacket.

```
$ netview.py <domain_name>/<username>:<password> -target <IP>

$ netview.py <domain_name>/<username> -hashes :<nt_hash> -target <IP>
```

### 4.2 - `net`

Enumerate computer names with `net` impacket.

```
$ net.py <domain_name>/<username>:<password> -target <IP> computer

$ net.py <domain_name>/<username> -hashes :<nt_hash> -target <IP> computer
```

## 05 - Nmap

Scanning for NetBIOS hosts.

```
$ sudo nmap -p 137 -sUV -Pn -n --script nbstat <IP>/<CIDR>
```

DNS Lookup via domain controller.

```
$ nmap --dns-servers <domain_controller_IP> -sL <IP>/<CIDR>
```