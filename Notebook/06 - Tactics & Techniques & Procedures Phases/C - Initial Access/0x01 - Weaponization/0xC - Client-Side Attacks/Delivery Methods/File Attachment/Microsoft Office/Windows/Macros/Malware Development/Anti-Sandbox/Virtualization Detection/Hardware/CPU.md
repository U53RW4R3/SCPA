# CPU

## Count Processor Cores

### Scripting

```vb
Sub CPU()
	Dim Processors As String
	Processors = Environ("NUMBER_OF_PROCESSORS")

	If Processors >= 2 Then
		MsgBox "Executing payload!"
	Else
		MsgBox "Sandbox detected!"
	End If
End Sub
```

---
## References

### Backlinks

- [[06 - Tactics & Techniques & Procedures Phases/F - Post Exploitation/0x01 - Defense Evasion/08 - Obfuscate Artifacts/Obfuscation/Malware Development/Obfuscation Techniques/String Manipulation/Windows/Batch]]

- [[06 - Tactics & Techniques & Procedures Phases/F - Post Exploitation/0x00 - Discovery/Desktop/Windows/Host/0xF - Operating System/System/Malware Development/Architecture]]