---
author(s):
  - Userware
tags:
  - initial-access
  - password-cracking
---
# #johntheripper

## 01 - List formats

```
$ john --list=formats
```

## 02 - Identify the hashes.

```
$ john --show=formats hashes.txt
```

## 03 - Specify format to crack the hash

```
$ john --format=<format> --wordlist=passwords.lst hashes.txt
```

## 04 - Using standard rules by cracking the has that JTR comes with

```
$ john --rules --format=<format> --wordlist=passwords.lst hashes.txt
```

## 05 - Cracking Hashes

### 5.1 - Cryptographic Hash Functions

MD5 hash.

```
$ john --format=Raw-MD5 --wordlist=passwords.lst md5hashes.txt
```

### 5.2 - Archive Files

7zip archive files.

```
$ 7z2john file.7z > hash_7z.txt

$ john --format=7z --wordlist=passwords.lst hash_7z.txt
```

Zip archive files.

```
$ zip2john file.zip > hash_zip.txt

$ john --format=zip --wordlist=passwords.lst hash_zip.txt
```

### 5.3 - Ansible Vault

Generate the hash to make it crackable. ^7f9178

```
$ ansible2john file.yml > hash.txt
```

^e0a1ed

Crack the hash.

```
$ john --wordlist=passwords.lst hash.txt 
```

After cracking the hash. The file can be decrypted. ^508ff7

```
$ ansible-vault decrypt file.yml --output decrypted.txt
```

^3fa923

### 5.4 - Network Ports

#### 5.4.1 - SSH

```
$ ssh2john id_rsa > ssh_hash.txt

$ john --format=ssh --wordlist=passwords.lst ssh_hash.txt
```

### 5.5 - Linux

```
$ john --format=sha512crypt --wordlist=passwords.lst sha512crypt_hash.txt
```

### 5.6 - Windows

#### 5.6.1 - NTLM

```
$ john --format=NT --wordlist=passwords.lst ntlm-hashes.txt
```

#### 5.6.2 - NTLMv2-SSP

When using #responder to perform MITM to fetch NTLMv2-SSP hashes via LLMNR/NBT-NS/mDNS poisoning.

```
$ john --format=netntlmv2 --wordlist=passwords.lst netntlmv2-hashes.txt
```

#### 5.6.3 - Kerberoasting

^0c9a3c

```
$ john --format=krb5tgs --wordlist=passwords.lst krbtgt-hashes.txt
```

#### 5.6.4 - ASREPRoast

^0c9a3c

```
$ john --format=krb5asrep --wordlist=passwords.lst asreptgt-hashes.txt
```

---
## References

### Ethical hacking and penetration testing

- [Ethical hacking and penetration testing: Comprehensive Guide to John the Ripper. Part 1 - Introducing and Installing John the Ripper](https://miloserdov.org/?p=4961&PageSpeed=noscript)

### Graceful Security

- [Custom Rules for John The Ripper](https://web.archive.org/web/20200813234129/https://gracefulsecurity.com/custom-rules-for-john-the-ripper/)

- [Custom Rules for John The Ripper Examples](https://web.archive.org/web/20200814150401/https://gracefulsecurity.com/custom-rules-for-john-the-ripper-examples/)

### Hackers Arise

- [Hackers Arise: Password Cracking Strategy](https://www.hackers-arise.com/password-cracking-strategy)

### Exploit Notes

- [Exploit Notes: Ansible Vault Secret](https://exploit-notes.hdks.org/exploit/cryptography/algorithm/ansible-vault-secret/)