---
author(s):
  - Userware
tags:
  - post-exploitation
  - file-transfer-and-data-exfiltration
  - archive-files
  - cross-platform
---
# Manual

## 01 - Common Files

### 1.1 - Linux

Tap Archive's location.

```
/usr/bin/tar
```

7zip's location.

![[7zip#^40f875]]

### 1.2 - Windows

Tap Archive's location.

```
C:\Windows\SysWoW64\tar.exe
```

^4b5127

7zip's location.

![[7zip#^939b0a]]

## 02 - Archive

Archive file without compression.

```
> tar cf archive.tar /path/to/file.txt

> 7z a -ttar [-o/path/to/directory/] archive.tar /path/to/file.txt
```

The gzip (GNU zip) (`.tar.gz` or `.tgz`) file extension has moderate compression ratio but fast speed.

```
> tar czf archive.tar.gz /path/to/file.txt

> 7z a -tgzip [-o/path/to/directory/] archive.tar.gz /path/to/file.txt
```

The bzip2 (`.tar.gz2`) file extension has high compression ratio but slower than gzip.

```
> tar cjf archive.tar.bz2 /path/to/file.txt

> 7z a -tbzip2 [-o/path/to/directory/] archive.tar.gz2 /path/to/file.txt
```

The xz (`.tar.xz`) file extension has a very high compression ratio but slower than bzip2.

```
> tar cJf archive.tar.xz /path/to/file.txt

> 7z a -txz [-o/path/to/directory/] archive.tar.xz /path/to/file.txt
```

## 03 - Extract

```
> tar xzf archive.tar.gz

> tar xjf archive.tar.bz2

> tar xJf archive.tar.xz
```

You can specify the path where to extract.

```
$ tar -C /path/to/directory -xzf archive.tar.gz
```

## 04 - Scenarios

### 4.1 - Split Volumes

Split into multiple files.

```
$ tar cjf archive.tar.bz2 folder

$ split -b 650MB archive.tar.bz2 "archive.tar.bz2.part"

$ tar cvzf - folder/ | split -b 650MB - "archive.tar.gz.part"
```

Join the split volumes into one file.

```
$ cat archive.tar.bz2.parta* > archive-full.tar.bz2
```

### 4.2 - Match Specific Extensions

```
$ find /path/to/directory -type f \( -name "*.txt" -o -name "*.pdf" -o -name "*.doc" -o -name "*.docx" -o -name "*.jpg" -o -name "*.jpeg" -o -name "*.png" -o -name "*.ppt" -o -name "*.pptx" -o -name "*.xls" -o -name "*.xlsx" \) -exec tar -czf file.tar.gz {} + 2>&1

$ find /path/to/directory -type f -regex ".*\.\(txt\|pdf\|doc\|docx\|jpg\|jpeg\|png\|ppt\|pptx\|xls\|xlsx)" -exec tar -czf file.tar.gz {} + 2>&1
```