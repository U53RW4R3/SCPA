# Rust

```rust
#![windows_subsystem = "console"]
use std::ptr;
use winapi::um::libloaderapi::GetModuleHandleW;
use winapi::um::wincon::GetConsoleWindow;
// use winapi::um::consoleapi::GetConsoleWindow;
use winapi::um::winuser::{ShowWindow, SW_HIDE};

fn hide_window() {
    let handle_window = unsafe {GetConsoleWindow()};

    if handle_window != ptr::null_mut() {
        unsafe {
            ShowWindow(handle_window, SW_HIDE);
        }
    }
}

fn invisible_window() {
    let handle_window = unsafe {GetConsoleWindow()};

    if handle_window != ptr::null_mut() {
        unsafe {
            ShowWindowAsync(handle_window, SW_HIDE);
        }
    }
}

fn hide_console() {
    let window = unsafe {GetConsoleWindow()};

	unsafe {
        winapi::um::wincon::FreeConsole();
    };
}

fn main() {
	hide_window();
	invisible_window();
	hide_console();
}

```

Add dependencies in the `Cargo.toml`.

```
[dependencies]
winapi = {version = "0.3", features = ["wincon", "winuser"]}
```

---
## References

- [[03 - Offensive Infrastructure/E - Setup Machine/0x01 - Essentials/Compilers/Cross Platform/Rust|Compilers: Rust]]