# Go

Refer to [[03 - Offensive Infrastructure/E - Setup Machine/0x01 - Essentials/Compilers/Cross Platform/Go|go compiler]] to add a flag for hiding a window.

```go
package main

import (
    "golang.org/x/sys/windows"
)

var (
    modkernel32 = windows.NewLazySystemDLL("kernel32.dll")
    moduser32   = windows.NewLazySystemDLL("user32.dll")

    procGetConsoleWindow = modkernel32.NewProc("GetConsoleWindow")
    procFreeConsole      = modkernel32.NewProc("FreeConsole")
    procShowWindow       = moduser32.NewProc("ShowWindow")
)

func hideWindow() {
    handle_window, _, _ := procGetConsoleWindow.Call()

    if handle_window != 0 {
        procShowWindow.Call(handle_window, uintptr(windows.SW_HIDE))
    }
}

func hideConsole() {
    procFreeConsole.Call()
}

func main() {
    hideWindow()
    hideConsole()
}
```