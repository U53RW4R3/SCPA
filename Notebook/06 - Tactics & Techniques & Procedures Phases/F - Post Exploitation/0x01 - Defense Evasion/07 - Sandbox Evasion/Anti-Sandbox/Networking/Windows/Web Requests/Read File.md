# Read File

## WinAPI

```c
#include <windows.h>
#include <wininet.h>
#include <stdio.h>

#pragma comment(lib, "wininet.lib")

int main() {
    char user_agent[] = "";
    HINTERNET hInternet = InternetOpenA(user_agent, INTERNET_OPEN_TYPE_DIRECT, NULL, NULL, 0);
    if (hInternet == NULL)
    {
        return 1;
    }
    char sitename[] = "localhost";
    int port = 8080;
    HINTERNET hConnect = InternetConnectA(hInternet, sitename, port, NULL, NULL, INTERNET_SERVICE_HTTP, 0, NULL);
    if (hConnect == NULL) {
        return 1;
    }

    const char* acceptTypes[] = { '*','/','*', NULL };

    char method[] = "GET";
    char site_param[] = "success";
    HINTERNET hRequest = HttpOpenRequestA(hConnect, method, site_param, NULL, NULL, acceptTypes, 0, 0);
    if (hRequest == NULL) {
        return 1;
    }

    BOOL bRequestSent = HttpSendRequestA(hRequest, NULL, 0, NULL, 0);

    BOOL bKeepReading = TRUE;
    const int nBuffSize = 100000;
    int size = 0;

    char* buff = VirtualAlloc(0, 100000, MEM_COMMIT, PAGE_EXECUTE_READWRITE);
    DWORD dwBytesRead = -1;

    while (bKeepReading && dwBytesRead != 0) {
        bKeepReading = InternetReadFile(hRequest, buff, nBuffSize, &dwBytesRead);
    }
    printf(buff);
        InternetCloseHandle(hRequest);
    InternetCloseHandle(hConnect);
    InternetCloseHandle(hInternet);
    return 0;
}
```