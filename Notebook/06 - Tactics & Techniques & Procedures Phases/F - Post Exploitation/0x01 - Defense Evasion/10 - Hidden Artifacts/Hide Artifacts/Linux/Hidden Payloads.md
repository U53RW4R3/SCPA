# Hidden Payloads

## 01 - Hidden File

^d494ed

Rename the payload into a hidden file using a dot (`.`).

```
$ mv payload .payload
```

## 02 - Security Through Obscurity

Rename the payload into a hyphen (`-`).

```
$ mv payload -
```

To execute the obscured payload.

```
$ ./-
```

## 03 - Masquerade Payload

Copy the binary in the memory then masquerade it into a legitimate name.

```
$ cd /dev/shm

$ cp "$(command -v nmap)" syslogd

$ PATH=.:$PATH syslogd -Pn -F -n --open -oG - <IP>/<CIDR>
```

## 04 - Bind Mount

```
$ sudo mount --bind /path/to/source/file /path/to/destination/file
```

> [!TIP] Masquerade Filename
> Use bind-mount to (temporarily) let `/sbin/init` point to `/dev/shm/nmap` instead.

```
$ mount -n --bind "$(command -v nmap)" /sbin/init
```

Starting `/sbin/init` will instead execute `nmap`.

```
$ (/sbin/init -Pn -f -n --open -oG - 10.0.2.1/24 &>nmap.log &)
```

Hide the process identifier in memory (`/dev/shm`) when executing offensive scripts.

```
$ sudo mount --bind /dev/shm /proc/<PID>
```

You can hide the parent identifier processes (`PPID`) that the users that they do not own (i.e., `root`). This can be done by remounting through `/proc`.

```
$ sudo mount -o remount,hidepid=2
```

This won't be revealed through other users.

```
$ ps -fu root
```

---
## References

### Source Repository

- [hackerschoice: THC's favourite Tips, Tricks & Hacks (Cheat Sheet)](https://github.com/hackerschoice/thc-tips-tricks-hacks-cheat-sheet)