# Living off the Land

## 01 - Lock User Account

```
# passwd -l <username>

# usermod -L <username>
```

It should have a status of **LK (Locked)**.

```
# passwd -S <username>
```

To unlock the user account.

```
# passwd -u <username>

# usermod -U <username>
```

## 02 - Wallpaper

### 2.1 - GNOME

```
$ gsettings set org.gnome.desktop.background picture-uri /path/to/wallpaper.png
```

### 2.2 - XFCE

Primary Monitor.

```
$ xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor0/workspace0/last-image -s "/path/to/wallpaper.png"
```

Secondary Monitor.

```
$ xfconf-query -c xfce4-desktop -p /backdrop/screen0/monitor1/workspace0/last-image -s "/path/to/wallpaper.png"
```

### 2.3 - KDE

```
$ dbus-send --session --dest=org.kde.plasmashell --type=method_call /PlasmaShell org.kde.PlasmaShell.evaluateScript 'string:
var Desktops = desktops();
for (i=0; i < Desktops.length; i++) {
    d = Desktops[i];
    d.wallpaperPlugin = "org.kde.image";
    d.currentConfigGroup = Array("Wallpaper", "org.kde.image", "General");
    d.writeConfig("Image", "file:///path/to/wallpaper.png");
}'
```

## 03 - Toggle CD/DVD Tray

Open CD Tray.

```
$ eject -FT
```

Close CD Tray.

```
$ eject -Ft
```

## 04 - Spook User Through SSH Communication

```
$ write <username> [<ttyname>]
```

## 05 - Kick Out User Session

```
$ pkill -KILL -u <username>

$ who | awk '!/root/{ cmd="/sbin/pkill -KILL -u " $1; system(cmd)}'

$ who | awk '$1 !~ /root/{ cmd="/sbin/pkill -KILL -u " $1; system(cmd)}'
```

## 06 - Power Management

### 6.1 - Shutdown Computer

Turn off the computer in an instant.

```
$ shutdown -P now

$ poweroff

$ systemctl poweroff -i
```

Send a message when shutting down the machine.

```
$ shutdown -h +10 "Server is going down for maintenance in 10 minute. Please save ALL your work ASAP and logout of the system."
```

### 6.2 - Restart Computer

```
$ reboot

$ systemctl -i reboot
```

### 6.3 - Suspend Computer

```
$ systemctl suspend
```

### 6.4 - Hibernate Mode

```
$ systemctl hibernate
```