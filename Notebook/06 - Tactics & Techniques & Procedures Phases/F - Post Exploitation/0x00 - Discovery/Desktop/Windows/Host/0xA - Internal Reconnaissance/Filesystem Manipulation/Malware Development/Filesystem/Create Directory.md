# Create Directory

## .NET

### PowerShell

```powershell
[System.IO.Directory]::CreateDirectory("C:\new_directory\")
```

## C Runtime

### C

```c
#include <stdio.h>
#include <direct.h> 

int main() {
    const char *path = "C:\\NewFolder";

    if (_mkdir(path) != 0) {
        printf("Failed to create directory.\n");
        return 1;
    }

    printf("Directory created successfully.\n");

    return 0;
}
```

Compile the program.

```
$ x86_64-w64-mingw32-gcc -l kernel32 -o mkdir.exe mkdir.c
```

## WinAPI

### C++

`CreateDirectoryA()` - Creates a new directory. If the underlying file system supports security on files and directories, the function applies a specified security descriptor to the new directory.

```cpp
#include <iostream>
#include <windows.h>
#include <winbase.h>

#pragma comment(lib, "kernel32.lib")

int main() {
    LPCWSTR path = "C:\\NewFolder";
    if (!::CreateDirectoryA(path, NULL)) {
        std::cout << "Failed to create directory," << std::endl;
        return 1;
    }
    std::cout << "Directory created sucessfully." << std::endl;
    return 0;
}
```

Compile the program.

```
$ x86_64-w64-mingw32-g++ -l kernel32 -o mkdir.exe mkdir.cpp
```

Create a new directory.

```
C:\> .\mkdir.exe C:\path\to\directory\
```

---
## References

### Microsoft

- [C-Runtime: `_mkdir`](https://learn.microsoft.com/en-us/cpp/c-runtime-library/reference/mkdir-wmkdir?view=msvc-170)

### Niraj Kharel

- [Niraj Kharel: Offensive C++ Basics](https://nirajkharel.com.np/posts/offensive-cplusplus-basics/)