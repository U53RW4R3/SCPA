---
author(s):
  - Userware
tags:
  - webapp-pentesting
  - initial-access
  - client-side-attacks
  - server-side-attack
  - cross-site-scripting
  - sql-injection
  - exploit-chaining
  - dvwa
---
# Manual

TODO: Demonstrate with [[02 - Interact Session|toxssin]] to inject javascript code

CTRL+SHIFT+C

## Persistent XSS

Harvests data

### Poor Man's Cookie Harvester

TODO: Make a javascript to steal credentials and post it in the guestbook message board.

## Exploit Chaining

^a7f343

TODO: Come up ways of exploit chaining in webapps

### Poor Man's Cookie Harvester

#### Insert XSS payload in the DBMS to collect cookies

Same thing with user account persistence but leveraging it as a XSS attack in SQLi

XSS and SQLi is another way to do perform stored XSS which also can be performed for phishing to replace legitimate URLs to malicious links.

An example if you discover a e-commerce website when a user browses the site to select items:

```
INSERT INTO cart VALUES('Coffee', '<script>alert(1)</script>', 15)
```

#### Store cookies in a database field via XSS attacks

### Watering Hole

Another way to demonstrate even if the client's web browser is up-to-date. We can utilize the Stored XSS by containing javascript code to check if the target is authenticated to a different vulnerable website that has Reflective XSS vulnerable while still authenticated can be stolen.

https://brutelogic.com.br/blog/reflected-watering-hole/

https://g0blin.co.uk/xss-and-wordpress-the-aftermath/ (contains knowledge how to make a persistent account in wordpress)

#### Initial Foothold

Finally, demonstrate a **watering hole** attack vector by utilizing metasploit framework autopwn module to exploit outdated programs such windows web browser. Or just use phishing

---
## References

### Hacking Articles

- [Hacking Articles: Comprehensive Guide on Cross-Site Scripting (XSS)](https://www.hackingarticles.in/comprehensive-guide-on-cross-site-scripting-xss/)

- [Hacking Articles: Cross-Site Scripting Exploitation](https://www.hackingarticles.in/cross-site-scripting-exploitation/)

### Computer Security Student

- [Computer Security Student (CSS): Man-in-the-Middle, Persistent Covert Cross Site Scripting Injection #2](https://www.computersecuritystudent.com/SECURITY_TOOLS/MUTILLIDAE/MUTILLIDAE_2511/lesson15/index.html)

### StationX

- [StationX: How to Use the BeEF Hacking Tool](https://www.stationx.net/beef-hacking-tool/)

### SecurityIdiots

- [SecurityIdiots: URL Spoofed Phishing using SQLi](https://securityidiots.com/Web-Pentest/SQL-Injection/url-spoofed-phishing-with-sqli.html)

- [SecurityIdiots: XSS Injection with SQLi (XSSQLi)](https://securityidiots.com/Web-Pentest/SQL-Injection/xss-injection-with-sqli-xssqli.html)