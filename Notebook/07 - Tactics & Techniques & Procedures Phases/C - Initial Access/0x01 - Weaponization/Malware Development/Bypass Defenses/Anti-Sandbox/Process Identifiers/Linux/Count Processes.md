# Count Processes


> [!TIP]
> For Linux desktop the average minimum should be between a range of 200 to 300 running processes.


```
ps -A --no-headers | wc -l

ps aux --no-headers | wc -l
```

```bash
#!/bin/bash

function base_name() {
    local path="${1}"
    local filename="${path##*/}"  # This strips everything before the last '/'

    # If a suffix is provided, remove it from the filename
    if [[ ${#} -eq 2 ]]
    then
        local suffix="${2}"
        # Only remove the suffix if the filename ends with it
        if [[ "${filename}" == *"${suffix}" ]]
        then
            filename="${filename%$suffix}"
        fi
    fi

    # Output the result
    echo "${filename}"
}

function count_processes() {
    local counter=0

    for process_identifier in /proc/*
    do
        local pid=$(base_name "${process_identifier}")

        if [[ "${pid}" =~ ^[0-9]{1,5}$ ]]
        then
            ((counter++))
        fi
    done

    echo "${counter}"
}

if [[ $(count_processes) -ge 200 ]]
then
    echo "Average amount of processes"
else
    echo "Sandbox detected!"
fi
```