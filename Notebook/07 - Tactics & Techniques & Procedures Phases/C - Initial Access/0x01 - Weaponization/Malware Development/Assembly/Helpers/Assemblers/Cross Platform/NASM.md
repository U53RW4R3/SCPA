---
author(s):
  - Userware
tags:
  - helpers
  - command-line
  - assembler
  - cross-platform
---
# NASM

## 01 - Linux

### 1.1 - ELF

#### 1.1.1 - 32 bit

Compile Linux binaries

```
$ nasm -f elf32 payload.asm -o payload.o

$ ld -b elf32-little -o payload payload.o

$ ld -m elf_i386 -o payload payload.o
```

You can translate the executable file into just a assembly binary.

```
$ objcopy -O binary payload payload.bin

$ objcopy -O binary payload.o payload.bin
```

#### 1.1.2 - 64 bit

```
$ nasm -f elf64 payload.asm -o payload.o

$ ld -b elf64-little payload.o -o payload

$ ld -m elf_x86_64 payload.o -o payload
```

You can translate the executable file or object file into just a assembly binary.

```
$ objcopy -O binary payload payload.bin
```

### 1.2 - EXE

#### 1.2.1 - 32 bit

```
$ nasm -f win32 payload.asm -o payload.obj

$ i686-w64-mingw32-ld -o payload.exe payload.obj
```

You can translate the executable file or object file into just a assembly binary.

```
$ objcopy -O binary payload.exe payload.bin
```

#### 1.2.2 - 64 bit

Compile Windows binaries in Linux

```
$ nasm -f win64 payload.asm -o payload.obj

$ x86_64-w64-mingw32-ld -o payload.exe payload.obj
```

You can translate the executable file into just a assembly binary.

```
$ objcopy -O binary payload.exe payload.bin
```

### 1.3 - DLL

Compile Windows Dynamic Linked Library in Linux

```
$ nasm -f win64 payload.asm -o payload.obj

$ x86_64-w64-mingw32-ld -shared -o payload.dll payload.obj
```

## 02 - Windows

### 2.1 - EXE

#### 2.1.1 - 64-bit

```
C:\> nasm -f win32 payload.asm -o payload.obj

C:\> link /SUBSYSTEM:CONSOLE /ENTRY:_start payload.obj /OUT:payload.exe
```

You can translate the executable file into just a assembly binary.

```
C:\> objcopy -O binary payload.exe payload.bin
```

---
## References

### Left 404

- [Left 404: Converting x86 assembly from masm to nasm](https://left404.com/2011/01/04/converting-x86-assembly-from-masm-to-nasm-3/)