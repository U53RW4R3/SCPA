# Nim

```nim
import winim

var buffer: array[4, byte] = [0xDE]

var address = winim.VirtualAlloc(NULL,
                                cast[SIZE_T](buffer.len)
                                MEM_COMMIT,
                                PAGE_EXECUTE_READWRITE
                                )

copyMem(address, addr(buffer), cast[SIZE_T](buffer.len))

var thread_handle = CreateThread(NULL,
                                0,
                                cast[LPTHREAD_START_ROUTINE)(address),
                                NULL,
                                0,
                                NULL
                                )

WaitForSingleObject(thread_handle, -1)
CloseHandle(thread_handle)

```