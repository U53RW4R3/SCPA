---
author(s):
  - Userware
tags:
  - post-exploitation
  - enumeration-and-discovery
  - active-directory
  - metasploit-framework
  - windows
---
# Metasploit

## 01 - Enumerate Domain Controllers

TODO: Gather MSF Post ex modules and use LDAP query to filter operating systems for example

### Interactive Shell

```
meterpreter > run post/windows/gather/enum_domain

meterpreter > getenv USERDOMAIN

meterpreter > getenv LOGONSERVER
```

Load the `meterpreter` extension API.

![[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x00 - Discovery/Desktop/Windows/Active Directory/0xA - Users/C2 Frameworks/Metasploit#^c0a59a]]

Enumerate available domain controllers on the specified domain.

```
meterpreter > adsi_dc_enum [<subdomain>.]<domain>.<tld>
```