# Living off the Land

## IP Lookup

### Command Prompt

![[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x00 - Discovery/Cross Platform/Networking/Geolocation/Manual/Living off the Land#^ad20e8]]

### PowerShell

```
PS C:\> Invoke-RestMethod -Uri "https://api.ipify.org"

PS C:\> Invoke-RestMethod -Uri "https://ifconfig.me"

PS C:\> Invoke-RestMethod -Uri "https://ifconfig.me/ip"

PS C:\> Invoke-RestMethod -Uri "https://ipv4.icanhazip.com"

PS C:\> Invoke-RestMethod -Uri "https://ipinfo.io"

PS C:\> Invoke-RestMethod -Uri "https://ip.me"

PS C:\> Invoke-RestMethod -Uri "https://api.ipify.org?format=json"

PS C:\> Invoke-RestMethod -Uri "https://ipecho.net/plain"

PS C:\> Invoke-RestMethod -Uri "https://ipv4.icanhazip.com"

PS C:\> (Invoke-RestMethod -Uri "https://httpbin.org/ip").origin
```

## DNS Lookup

### Command Prompt

![[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x00 - Discovery/Cross Platform/Networking/Geolocation/Manual/Living off the Land#^ab1d86]]

### PowerShell

```
PS C:\> Resolve-DnsName -Type TXT -Name "o-o.myaddr.l.google.com" -Server "ns1.google.com"

PS C:\> Resolve-DnsName -Type A -Name "myip.opendns.com" -Server "resolver1.opendns.com"

PS C:\> Resolve-DnsName -Type A -Name "whoami.akamai.net" -Server "ns1-1.akamaitech.net"
```