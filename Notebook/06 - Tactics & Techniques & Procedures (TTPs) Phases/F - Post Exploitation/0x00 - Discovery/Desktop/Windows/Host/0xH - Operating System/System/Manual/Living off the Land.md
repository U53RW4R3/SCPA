# Living off the Land

## 01 - Command Prompt

### 1.1 - Hostname

```
C:\> hostname.exe

C:\> systeminfo.exe | findstr.exe /c:"Host Name:"

C:\> echo %COMPUTERNAME%
```

### 1.2 - Date and Time

```
C:\> date.exe /T

C:\> time.exe /T

C:\> tzutil.exe /g

C:\> net.exe time [\\<IP>]

C:\> w32tm.exe /query [/computer:<IP>] /configuration

C:\> echo %DATE%
```

Check the duration of how long the system was running.

```
C:\> systeminfo.exe [/s <IP>] [/u <username> /p <password>] | find.exe "Up Time"
```

### 1.3 - User Activity

#### 1.3.1 - IDLE Time

```
C:\> quser.exe [/server:<IP>]

C:\> query.exe user <username> [/server:<IP>]
```

## 02 - PowerShell

### 2.1 - Hostname

Computer name.

```
PS C:\> Get-ComputerInfo -Property CSName

PS C:\> $Env:COMPUTERNAME

PS C:\> [System.Environment]::MachineName

PS C:\> [System.Net.Dns]::GetHostName()
```

### 2.2 - Locale

```
PS C:\> Get-Culture

PS C:\> Get-UICulture
```

### 2.3 - Date and Time

Retrieve time

```
PS C:\> Get-Date

PS C:\> Invoke-Command -ComputerName <IP> -ScriptBlock { Get-Date }

PS C:\> $Env:DATE
```

## 03 - Sysinternals

Enumerate the system.

```
C:\ .\PsInfo64.exe [\\<IP> -u <username> -p <password>]
```