# NetSess

## 01 - Installation

### 1.1 - Command Prompt

> [!TIP] Quick Download
> To copy the web request open the **Network Monitor `CTRL + SHIFT + E`** in Firefox. Then click the download button on wherever it appears in your browser. Wait for a few seconds then right click > **Copy Value** > **Copy as cURL**. This is also optional yet recommend to spoof the [[06 - Tactics & Techniques & Procedures (TTPs) Phases/D - Webapp Pentesting/0x03 - Bypass Webapp Security/Web Application Firewall (WAF)/Helpers/User Agents|user agent]].

```
C:\> curl.exe -o NetSess.zip 'https://www.joeware.net/downloads/dl2.php' \
  -X POST \
  -H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' \
  -H 'Accept-Language: en-US,en;q=0.5' \
  -H 'Accept-Encoding: gzip, deflate, br, zstd' \
  -H 'Content-Type: application/x-www-form-urlencoded' \
  -H 'Origin: https://www.joeware.net' \
  -H 'DNT: 1' \
  -H 'Connection: keep-alive' \
  -H 'Referer: https://www.joeware.net/freetools/tools/netsess/' \
  -H 'Cookie: request_id=d5d41a3e-5b89-4a9b-9812-ef6a48fd15e6' \
  -H 'Upgrade-Insecure-Requests: 1' \
  -H 'Sec-Fetch-Dest: document' \
  -H 'Sec-Fetch-Mode: navigate' \
  -H 'Sec-Fetch-Site: same-origin' \
  -H 'Sec-Fetch-User: ?1' \
  -H 'Priority: u=0, i' \
  --data-raw 'download=NetSess.zip&email=&B1=Download+Now'
```

Extract it then delete it.

```
C:\> tar.exe xf .\NetSess.zip
del /f .\NetSess.zip
```

### 1.2 - PowerShell

> [!TIP] Quick Download
> To copy the web request open the **Network Monitor `CTRL + SHIFT + E`** in Firefox. Then click the download button on wherever it appears in your browser. Wait for a few seconds then right click > **Copy Value** > **Copy as PowerShell**. This is also optional yet recommend to spoof the [[06 - Tactics & Techniques & Procedures (TTPs) Phases/D - Webapp Pentesting/0x03 - Bypass Webapp Security/Web Application Firewall (WAF)/Helpers/User Agents|user agent]].

```
PS C:\> Invoke-WebRequest -UseBasicParsing -Uri "https://www.joeware.net/downloads/dl2.php" `
-Method POST `
-Headers @{
"Accept" = "text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8"
  "Accept-Language" = "en-US,en;q=0.5"
  "Accept-Encoding" = "gzip, deflate, br, zstd"
  "Origin" = "https://joeware.net"
  "DNT" = "1"
  "Referer" = "https://joeware.net/"
  "Upgrade-Insecure-Requests" = "1"
  "Sec-Fetch-Dest" = "document"
  "Sec-Fetch-Mode" = "navigate"
  "Sec-Fetch-Site" = "same-site"
  "Sec-Fetch-User" = "?1"
  "Priority" = "u=0, i"
} `
-ContentType "application/x-www-form-urlencoded" `
-Body "download=NetSess.zip&email=&B1=Download+Now" `
-OutFile NetSess.zip
```

Extract it then delete it.

```
PS C:\> Expand-Archive .\NetSess.zip
Remove-Item -Force .\NetSess.zip
```

## 02 - Usage

```
C:\> .\netsess.exe

C:\> .\netsess.exe <IP>
```

> [!INFO] Elevated Privileges is required
> Using `/full` flag requires administrative rights when performing full enumeration.

```
C:\> .\netsess.exe <IP> /full
```

---
## References

### Joeware

- [NetSess Usage](https://www.joeware.net/freetools/tools/netsess/usage.htm)