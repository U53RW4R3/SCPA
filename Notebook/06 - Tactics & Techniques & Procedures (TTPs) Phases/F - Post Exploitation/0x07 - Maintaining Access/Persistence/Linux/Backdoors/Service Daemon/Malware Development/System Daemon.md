# System Daemon

## Scripting

### Bash

```bash
#!/bin/bash

BIN_FULL_PATH=
SERVICE_NAME=

function install_service() {
    local AUTOSTART_PATH="${1}"
    echo "[Unit]
    Description=Start daemon at boot time
    After=
    Requires=
    [Service]
    Type=forking
    RestartSec=10s
    Restart=always
    TimeoutStartSec=5
    ExecStart=${AUTOSTART_PATH}
    [Install]
    WantedBy=multi-user.target"
}

function autoinit() {
    install_service "${BIN_FULL_PATH}" > "/lib/systemd/system/${SERVICE_NAME}.service"
    systemctl enable "${SERVICE_NAME}.service"
    systemctl start "${SERVICE_NAME}.service"
}

function main() {
	install_service ""
	autoinit
}

main
```

---
## References

### Trend Micro

- [Trend Micro: Analysis of Kinsing Malware's Use of Rootkit](https://www.trendmicro.com/en_dk/research/20/k/analysis-of-kinsing-malwares-use-of-rootkit.html)