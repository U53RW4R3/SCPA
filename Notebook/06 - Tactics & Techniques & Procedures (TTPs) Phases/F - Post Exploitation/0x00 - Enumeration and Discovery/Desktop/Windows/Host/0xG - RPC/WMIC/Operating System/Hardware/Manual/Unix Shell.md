# Unix Shell

Search Tag(s): #post-exploitation #enumeration-and-discovery #staying-off-the-land #windows

## 01 - Hardware Information

### 1.1 - MSRPC Port

Authentication syntax

```
$ wmiquery.py <domain>/<username>:<password>@<IP>

$ wmiquery.py <domain>/<username>@<IP> -hashes :<nt_hash>
```

Query operating system.

```
WQL> SELECT Caption FROM Win32_OperatingSystem
```

Query CPU.

```
WQL> SELECT NumberOfCores,NumberOfLogicalProcessors FROM Win32_Logicaldisk
```

Query only if the free space is less than 21 MB.

```
WQL> SELECT * FROM Win32_Logicaldisk WHERE FreeSpace < 2147483648
```

---
## References

- [[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x00 - Enumeration and Discovery/Desktop/Windows/Host/0xF - Operating System/Hardware/Manual/Unix Shell]]