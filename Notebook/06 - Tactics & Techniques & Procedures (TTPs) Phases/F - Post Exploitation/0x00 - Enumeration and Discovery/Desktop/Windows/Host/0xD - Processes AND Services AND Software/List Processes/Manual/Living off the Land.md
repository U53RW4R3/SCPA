---
author(s):
  - Userware
tags:
  - post-exploitation
  - enumeration-and-discovery
  - living-off-the-land
  - windows
---
# Living off the Land

## 01 - Command Prompt

```
C:\> tasklist.exe /v [/s <IP>] [/u <username> /p <password>]

C:\> tasklist.exe /svc [/s <IP>] [/u <username> /p <password>]

C:\> tasklist.exe /fi "imagename eq <process.exe>" [/s <IP>] [/u <username> /p <password>]
```

## 02 - PowerShell

```powershell
PS C:\> Get-Process

PS C:\> Get-Process | Where-Object {$_.ProcessName -notlike "svchost*"} | Format-Table ProcessName, Id
```

## 03 - Sysinternals

### 3.1 - Command Prompt

```
C:\> net.exe use z: \\live.sysinternals.com\tools

C:\> copy z:\handle64.exe .

C:\> net.exe use z: /delete
```

### 3.2 - PowerShell

```
PS C:\> New-PSDrive -Name Z -PSProvider FileSystem -Root "\\live.sysinternals.com\tools"

PS C:\> Copy-Item z:\handle64.exe .

PS C:\> Remove-PSDrive -Name Z
```

Accept the EULA.

```
C:\> .\handle64.exe -accepteula
```

Enumerate the processes.

```
C:\> .\handle.exe -nobanner -a -y
```

---
## References

### Backlinks

- [[03 - Process Management|Living off the Land: Process Manipulation]]