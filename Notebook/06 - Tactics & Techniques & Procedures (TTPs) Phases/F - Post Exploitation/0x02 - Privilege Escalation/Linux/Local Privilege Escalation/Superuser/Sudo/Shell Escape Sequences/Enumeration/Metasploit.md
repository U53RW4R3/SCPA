# Metasploit

With internal recon of the compromised machine with least privileges you've probably discovered in this [[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x00 - Enumeration and Discovery/Desktop/Linux/Host/0xA - Users/C2 Frameworks/Metasploit|section]]. Look more info on [GTFOBins](https://gtfobins.github.io). Depending on the command that contains a format looks like:

## Post Module

> [!NOTE]
> You can execute this module if you're interacting with [[03 - Offensive Infrastructure/C - Command and Control/0x00 - Metasploit/Interactive Shell/Meta Shell/Usage|Command Shell]] session.

```
msf > use post/multi/recon/sudo_commands

msf post(multi/recon/sudo_commands) > options 

Module options (post/multi/recon/sudo_commands):

   Name       Current Setting  Required  Description
   ----       ---------------  --------  -----------
   PASSWORD                    no        Password for the current user
   SESSION                     yes       The session to run this module on
   SUDO_PATH  /usr/bin/sudo    yes       Path to sudo executable


View the full module info with the info, or info -d command.

msf post(multi/recon/sudo_commands) > set sudo_path /path/to/sudo

msf post(multi/recon/sudo_commands) > set password [password]

msf post(multi/recon/sudo_commands) > set session <session_ID>

msf post(multi/recon/sudo_commands) > run
```

You can execute the post module through `meterpreter` session.

```
meterpreter > run post/multi/recon/sudo_commands
```

---
## References

### Backlinks

- [[06 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x02 - Privilege Escalation/Linux/Local Privilege Escalation/Superuser/Sudo/Shell Escape Sequences/Enumeration/Living off the Land]]