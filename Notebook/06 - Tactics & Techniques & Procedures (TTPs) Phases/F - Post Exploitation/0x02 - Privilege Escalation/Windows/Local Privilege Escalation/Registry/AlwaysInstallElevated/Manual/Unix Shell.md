# Unix Shell

## 01 - Enumerate

### 1.1 - `net`

```
$ net rpc registry getvalue "HKCU\SOFTWARE\Policies\Microsoft\Windows\Installer" AlwaysInstallElevated -U "<username>%<password>" -S <IP>

$ net rpc registry getvalue "HKLM\SOFTWARE\Policies\Microsoft\Windows\Installer" AlwaysInstallElevated -U "<username>%<password>" -S <IP>
```

### 1.2 - `regshell`

```
$ regshell -U "<username>%<password>" -R <IP>

$ regshell -U "<username>" --pw-nt-hash <nt_hash> -R <IP>

\> predef HKEY_CURRENT_USER
ck SOFTWARE\Policies\Microsoft\Windows\Installer
print

\> predef HKEY_LOCAL_MACHINE
ck SOFTWARE\Policies\Microsoft\Windows\Installer
print
```

### 1.3 - Impacket

```
$ reg.py "<username>":"<password>"@<IP> query -keyName "HKCU\SOFTWARE\Policies\Microsoft\Windows\Installer"

$ reg.py "<username>":"<password>"@<IP> query -keyName "HKLM\SOFTWARE\Policies\Microsoft\Windows\Installer"
```