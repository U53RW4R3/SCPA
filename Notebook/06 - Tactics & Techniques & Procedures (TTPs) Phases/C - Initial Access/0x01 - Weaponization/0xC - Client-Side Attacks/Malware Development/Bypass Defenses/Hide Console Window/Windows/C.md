# C

```c
#include <windows.h>
#include <winuser.h>

#pragma comment(lib, "user32.lib")

void HideWindow() {
    HWND handle_window = GetConsoleWindow();
    ShowWindow(handle_window, SW_MINIMIZE);
    ShowWindow(handle_window, SW_HIDE);
}

void InvisibleWindow() {
    HWND handle_window = GetConsoleWindow();
    ShowWindowAsync(handle_window, SW_HIDE);
}

void HideConsole() {
    FreeConsole();
}

int main() {
	HideWindow();
	InvisibleWindow();
	HideConsole();

	return 0;
}
```

Compile the payload.

```
$ x86_64-w64-mingw32-gcc -l user32 -o payload.exe payload.c
```

---
## References

### MalAPI

- [MalAPI: `ShowWindow`](https://malapi.io/winapi/ShowWindow)