---
author(s):
  - Userware
tags:
  - initial-access
  - password-cracking
  - johntheripper
---
# [[03 - Offensive Infrastructure/E - Setup Machine/0x02 - Offensive Tools/Password Cracking/Offline/John The Ripper|John The Ripper]]

List formats

```
$ john --list=formats
```

Identify the hashes.

```
$ john --show=formats hashes.txt
```

Specify format to crack the hash

```
$ john --format=<format> --wordlist=passwords.lst hashes.txt
```

Using standard rules by cracking the has that JTR comes with

```
$ john --rules --format=<format> --wordlist=passwords.lst hashes.txt
```

## 02 - Cryptographic Hash Functions

### 2.1.1 - MD5

```
$ john --format=Raw-MD5 --wordlist=passwords.lst md5hashes.txt
```

## 03 - Archive Files

### 3.1 - 7zip

```
$ 7z2john file.7z > hash_7z.txt

$ john --format=7z --wordlist=passwords.lst hash_7z.txt
```

### 3.2 - Zip

```
$ zip2john file.zip > hash_zip.txt

$ john --format=zip --wordlist=passwords.lst hash_zip.txt
```

## 03 - Network Ports

### 3.1 - SSH

```
$ ssh2john id_rsa > ssh_hash.txt

$ john --format=ssh --wordlist=passwords.lst ssh_hash.txt
```

## 04 - Linux

```
$ john --format=sha512crypt --wordlist=passwords.lst sha512crypt_hash.txt
```

## 05 - Windows

### 5.1 - NTLM

```
$ john --format=NT --wordlist=passwords.lst ntlm-hashes.txt
```

### 5.2 - NTLMv2-SSP

When using Responder to perform MITM to fetch NTLMv2-SSP hashes via LLMNR/NBT-NS/mDNS poisoning.

```
$ john --format=netntlmv2 --wordlist=passwords.lst netntlmv2-hashes.txt
```

### 5.3 - Kerberoasting

^0c9a3c

```
$ john --format=krb5tgs --wordlist=passwords.lst krbtgt-hashes.txt
```

### 5.4 - ASREPRoast

^0c9a3c

```
$ john --format=krb5asrep --wordlist=passwords.lst asreptgt-hashes.txt
```

---
## References

### Ethical hacking and penetration testing

- [Ethical hacking and penetration testing: Comprehensive Guide to John the Ripper. Part 1 - Introducing and Installing John the Ripper](https://miloserdov.org/?p=4961&PageSpeed=noscript)

### Graceful Security

- [Custom Rules for John The Ripper](https://web.archive.org/web/20200813234129/https://gracefulsecurity.com/custom-rules-for-john-the-ripper/)

- [Custom Rules for John The Ripper Examples](https://web.archive.org/web/20200814150401/https://gracefulsecurity.com/custom-rules-for-john-the-ripper-examples/)

### Hackers Arise

- [Hackers Arise: Password Cracking Strategy](https://www.hackers-arise.com/password-cracking-strategy)