# NASM

Search Tag(s): #command-line #compiler

## 01 - Linux

### 1.1 - ELF

#### 1.1.1 - 32 bit

- Compile Linux binaries

```
$ nasm -f elf32 implant.asm -o implant.o

$ ld -b elf32-little -o implant implant.o

$ ld -m elf_i386 -o implant implant.o
```

You can translate the executable file into just a assembly binary.

```
$ objcopy -O binary implant implant.bin

$ objcopy -O binary implant.o implant.bin
```

#### 1.1.2 - 64 bit

```
$ nasm -f elf64 implant.asm -o implant.o

$ ld -b elf64-little implant.o -o implant

$ ld -m elf_x86_64 implant.o -o implant
```

You can translate the executable file or object file into just a assembly binary.

```
$ objcopy -O binary implant implant.bin
```

### 1.2 - EXE

#### 1.2.1 - 32 bit

```
$ nasm -f win32 implant.asm -o implant.obj

$ i686-w64-mingw32-ld -o implant.exe implant.obj
```

You can translate the executable file or object file into just a assembly binary.

```
$ objcopy -O binary implant.exe implant.bin
```

#### 1.2.2 - 64 bit

- Compile Windows binaries in Linux

```
$ nasm -f win64 implant.asm -o implant.obj

$ x86_64-w64-mingw32-ld -o implant.exe implant.obj
```

You can translate the executable file into just a assembly binary.

```
$ objcopy -O binary implant.exe implant.bin
```

### 1.3 - DLL

- Compile Windows Dynamic Linked Library in Linux

```
$ nasm -f win64 implant.asm -o implant.obj

$ x86_64-w64-mingw32-ld -shared -o implant.dll implant.obj
```

## 02 - Windows

### 1.1 - EXE

#### 1.1.1 - 64-bit

```
C:\> nasm -f win32 shellcode.asm -o shellcode.obj

C:\> link /SUBSYSTEM:CONSOLE /ENTRY:_start shellcode.obj /OUT:shellcode.exe
```

You can translate the executable file into just a assembly binary.

```
C:\> objcopy -O binary implant.exe implant.bin
```

---
## References

- [Left 404: Converting x86 assembly from masm to nasm](https://left404.com/2011/01/04/converting-x86-assembly-from-masm-to-nasm-3/)