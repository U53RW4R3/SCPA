# Description

`PATH` is a bash pre-defined environmental variable in Linux and other Unix-like operating systems that communicates the shell to locate the directories to find the binary files that the user feeds the input of the computer.

The only issue is that you have to compile the shell as root but the file transfer techniques will not work since the compiled must remain the same permissions. However, I do have a few solutions of how you can accomplish this and to maintain persistence as well.

1. If the target has NFS enabled with root privileges that was misconfigured properly you can mount on it and copy the binary and find only a few world-writeable directories to take advantage of it.
2. The second solution is when during the post exploitation phase that once you have enabled a keylogger to capture the credentials for root privileges. Compile the shell somewhere safe that is only world-writable also make a hidden folder or copy the shell into one of the common hidden folders as well. That the victim will not notice it. Just in case if the victim reset his password due to circumstances other than getting caught. If you've already left a payload by compiling it as root. Use that as a persistence mechanism to your advantage.
3. To reiterate from the 2nd point as I mentioned previously. Another kind of persistence method is that we can apply the privilege escalation technique regarding of **Weak File Permissions** section to both [[07 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x02 - Privilege Escalation/Linux/Local Privilege Escalation/Reset Password/Weak File Permissions/Writable Passwd File/Living off the Land|passwd]] and [[07 - Tactics & Techniques & Procedures (TTPs) Phases/F - Post Exploitation/0x02 - Privilege Escalation/Linux/Local Privilege Escalation/Reset Password/Weak File Permissions/Writable Shadow File/Living off the Land|shadow]]. We can utilize this technique to add a user account with root privileges without needing to activate the keylogger. Lastly we can dump the credentials to crack the new passwords that was reset by the system administrator with one or more accounts to maintain access.

## Checklist

Here are a few checklists you'll need the requirements for:

- [ ] What directories are discovered under `$PATH`
- [ ] Is the current user have the write privileges for any of these folders?
- [ ] Can you make changes to `$PATH`?
- [ ] Are there any scripts/programs that you can begin by exploiting this vulnerability?