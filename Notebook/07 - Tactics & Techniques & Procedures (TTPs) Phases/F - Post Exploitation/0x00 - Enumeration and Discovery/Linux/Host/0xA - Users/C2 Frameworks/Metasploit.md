---
author(s):
  - Userware
tags:
  - post-exploitation
  - enumeration-and-discovery
  - metasploit-framework
  - linux
---
# Metasploit

## 01 - Enumerate Current Account

```
meterpreter > getuid
```

Using interactive ruby shell to retrieve current username.

```
meterpreter > irb
>> client.sys.config.getuid
```

## 02 - Enumerate User Accounts

```
msf > use post/linux/gather/enum_system

msf post(linux/gather/enum_system) > options 

Module options (post/linux/gather/enum_system):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   SESSION                   yes       The session to run this module on


View the full module info with the info, or info -d command.

msf post(linux/gather/enum_system) > set session <session_ID>

msf post(linux/gather/enum_system) > run
```

## 03 - User Environment

Running a post module to gather environment variables.

```
msf > use post/multi/gather/env

msf post(multi/gather/env) > options

Module options (post/multi/gather/env):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   SESSION                   yes       The session to run this module on

msf post(multi/gather/env) > set session <session_ID>

msf post(multi/gather/env) > exploit
```

Running a `meterpreter` to gather environment variables.

```
meterpreter > getenv
```