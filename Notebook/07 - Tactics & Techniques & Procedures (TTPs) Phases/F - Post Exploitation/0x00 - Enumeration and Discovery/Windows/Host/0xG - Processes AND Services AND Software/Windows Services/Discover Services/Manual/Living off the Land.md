---
author(s):
  - Userware
tags:
  - post-exploitation
  - enumeration-and-discovery
  - privilege-escalation
  - living-off-the-land
  - windows
---
# Living off the Land

## 01 - Command Prompt

Listing all windows services with **Service Control Management**.

```
C:\> net.exe start

C:\> sc.exe [\\<IP>] query

C:\> sc.exe [\\<IP>] queryex

C:\> sc.exe [\\<IP>] query | findstr SERVICE_NAME

C:\> sc.exe [\\<IP>] query type= service state= all

C:\> sc.exe [\\<IP>] queryex type= service
```

## 02 - PowerShell

```
PS C:\> Get-Service | Format-List

PS C:\> Get-Service [-ComputerName <IP>] | Format-List

PS C:\> Get-Service | Where-Object {?_.Status -eq "Running" } | Format-Wide -Property Name -Column 1

PS C:\> Get-Service [-ComputerName <IP>] | Where-Object {?_.Status -eq "Running" } | Format-Wide -Property Name -Column 1
```

---
## References

- [LOFLCAB: Get-Service](https://lofl-project.github.io/loflcab/Cmdlets/Get-Service/)

- [Steflan Security: Windows Privilege Escalation Weak Permission](https://steflan-security.com/windows-privilege-escalation-weak-permission/)