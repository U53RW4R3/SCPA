# Unix Shell

## 01 - `net`

```
$ net rpc registry getvalue "HKCU\Environment" PATH -U "<username>%<password>" -S <IP>
```

```
$ net rpc registry getvalue "HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" PROCESSOR_ARCHITECTURE -U "<username>%<password>" -S <IP>
```

```
$ net rpc registry getvalue "HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" PROCESSOR_ARCHITECTURE -U "<username>%<password>" -S <IP>
```

```
$ net rpc registry getvalue "HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" NUMBER_OF_PROCESSORS -U "<username>%<password>" -S <IP>
```

## 02 - `regshell`

```
$ regshell -U "<domain>/<username>%<password>" -R <IP>

$ regshell -U "[<domain>/]<username>" --pw-nt-hash <nt_hash> -R <IP>
```

```
\> predef HKEY_CURRENT_USER

\HKEY_CURRENT_USER> ck Environment

\HKEY_CURRENT_USER\Environment> print PATH
```

```
\> predef HKEY_LOCAL_MACHINE

\HKEY_LOCAL_MACHINE> ck "SYSTEM\CurrentControlSet\Control\Session Manager\Environment"

\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment> print PROCESSOR_ARCHITECTURE
```

```
\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment> print PROCESSOR_IDENTIFER
```

```
\HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Environment> print NUMBER_OF_PROCESSORS
```

## 03 - Impacket

```
$ reg.py "<username>":"<password>"@<IP> query -keyName "HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" -v PROCESSOR_ARCHITECTURE

$ reg.py "<username>":"<password>"@<IP> query -keyName "HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" -v PROCESSOR_IDENTIFER

$ reg.py "<username>":"<password>"@<IP> query -keyName "HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\Environment" -v NUMBER_OF_PROCESSORS
```