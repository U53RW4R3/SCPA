---
author(s):
  - Userware
tags:
  - post-exploitation
  - file-transfer-and-data-exfiltration
  - network-protocols
  - ssh
  - linux
---
# SCP

## 01 - Setup

### 1.1 - Installation

```
$ sudo apt install openssh-server
```

### 1.2 - Hardening

```
$ sudo mkdir -p /var/www/storage/

$ sudo useradd -s /bin/false -M aiden

$ passwd aiden

$ sudo chown aiden:aiden /var/www/storage/

$ sudo usermod -d /var/www/storage/ aiden
```

## 1.2 - Usage

### 1.2.1 - Upload

```
> scp /path/to/file.txt -o "UserKnownHostsFile=/dev/null StrictHostKeyChecking=no" -i id_rsa <username>@<IP>:.
```

**I**mprove `scp` file transfer's speed by **using blowfish** and `compression` flag of `-C`.

```
> scp -Cc blowfish /path/to/file.txt -o "UserKnownHostsFile=/dev/null StrictHostKeyChecking=no" -i id_rsa <username>@<IP>:.

> scp -o HostKeyAlgorithms=+ssh-rsa /path/to/file.txt <username>@<IP>:.
```

### 1.2.1 - Download

```
> scp <username>@<IP>:/path/to/file.txt -o "UserKnownHostsFile=/dev/null StrictHostKeyChecking=no" -i id_rsa .
```

Improve `scp` file transfer's speed by **using blowfish** and `compression` flag of `-C`.

```
> scp -Cc blowfish <username>@<IP>:/path/to/file.txt -o "UserKnownHostsFile=/dev/null StrictHostKeyChecking=no" -i id_rsa .

> scp -o HostKeyAlgorithms=+ssh-rsa <username>@<IP>:/path/to/file.txt .
```

---
## References

- [Gabb4r Gitbook File Transfer Linux](https://gabb4r.gitbook.io/oscp-notes/file-transfer/linux)

- [Techmint SCP Commands Examples](https://www.tecmint.com/scp-commands-examples/)