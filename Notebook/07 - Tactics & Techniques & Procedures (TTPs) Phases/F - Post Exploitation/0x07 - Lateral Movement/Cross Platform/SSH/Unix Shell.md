---
author(s):
  - Userware
tags:
  - post-exploitation
  - lateral-movement
  - living-off-the-land
  - T1021-004
  - network-protocols
  - ssh
  - cross-platform
---
# Unix Shell

## 01 - Manual

### 1.1 - Authenticating via Password

```
$ ssh [-oHostKeyAlgorithms=+ssh-rsa] <username>@<IP>

$ ssh [-oKexAlgorithms=+diffie-hellman-group1-sha1 -c aes256-cbc] <username>@<IP>
```

### 1.2 - Authenticating via SSH Key

```
$ ssh -i /path/to/ssh_key [-oHostKeyAlgorithms=+ssh-rsa] <username>@<IP>
```

To convert `.ppk` files into `.pem`.

```
$ sudo apt install -y putty-tools

$ puttygen file.ppk -O private-openssh -o file.pem
```

### 1.3 - OPSEC Consideration

When adding `UserKnownHostsFile=/dev/null` it won't reveal the user activity when someone's running `w` command.

```
$ ssh -o ConnectTimeout=5 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking="${a:-accept-new}" -T <username>@<IP> "/bin/bash -i"
```

## 02 - NetExec

```
$ netexec ssh <IP> -u "<username>" -p "<password>" [--port <PORT>] -x "<commands>"
```

---
## References

### Github

- [hackerschoice: THC's favourite Tips, Tricks & Hacks (Cheat Sheet)](https://github.com/hackerschoice/thc-tips-tricks-hacks-cheat-sheet)