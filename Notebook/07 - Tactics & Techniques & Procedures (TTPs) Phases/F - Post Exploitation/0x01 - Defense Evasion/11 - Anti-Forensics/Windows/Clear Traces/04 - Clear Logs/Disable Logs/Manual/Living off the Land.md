# Living off the Land

## Command Prompt

- Suspend Event Viewer from generating logs

```
C:\> reg add "[\\<IP>\]hklm\system\currentcontrolset\control\MiniNt"

C:\> reg add "[\\<IP>\]hkey_local_machine\system\currentcontrolset\control\MiniNt"
```

```
C:\> auditpol /get /category:"Detailed Tracking"

C:\> auditpol /set /category:"Detailed Tracking" /success:disable /failure:disable

C:\> auditpol /set /category:"Detailed Tracking" /success:enable /failure:enable
```

## PowerShell

```
PS C:\> Set-PSReadLineOption -HistorySaveStyle SaveNothing
```

---
## References

### LOFLCAB

- [LOFLCAB: reg](https://lofl-project.github.io/loflcab/Binaries/reg/)

### r00t 3xp10it

- [r00t-3xp10it: CmdLine Scripts for Reverse TCP Shell Addicts](https://github.com/r00t-3xp10it/venom/wiki/CmdLine-%26-Scripts-for-reverse-TCP-shell-addicts)

### DMCXBlue

- [DMCXBlue Gitbook: Impair Command History Logging](https://dmcxblue.gitbook.io/red-team-notes-2-0/red-team-techniques/defense-evasion/t1562-impair-defenses/impair-command-history-logging)