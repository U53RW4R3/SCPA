# Unix Shell

Search Tag(s): #post-exploitation #enumeration-and-discovery #windows

## 01 - Samba Suite Utils

### 1.1 - Username enumeration

Get current username.

```
rpcclient $> getusername
```

Retrieve username SID.

```
rpcclient $> lookupnames <username_1>,<username_2>,<username_n>

rpcclient $> samlookupnames builtin <username_1>,<username_2>,<username_n>
```

Enumerate username.

```
rpcclient $> queryuser <username | SID>

rpcclient $> queryusergroups <username_rid_value>
```

Check the user's privileges.

```
rpcclient $> enumprivs
```

### 1.2 - Enumerate user accounts

Enumerate groups.

```
rpcclient $> lookupnames <group_1>,<group_2>,<group_n>

rpcclient $> lookupnames Administrators
```

Enumerate alias group accounts.

```
rpcclient $> enumalsgroups builtin
```

## 02 - NetExec

### 2.1 - Users

Enumerate local users.

```
$ netexec smb <IP> -u "<username>" -p "<password>" [-d <domain_name> | --local-auth] --users
```

Enumerate current local users.

```
$ netexec smb <IP> -u "<username>" -p "<password>" [-d <domain_name> | --local-auth] --users <user_1>,<user_2>,<user_n>
```

### 2.2 - Groups

Enumerate local groups.

```
$ netexec smb <IP> -u "<username>" -p "<password>" [-d <domain_name> | --local-auth] --local-groups
```

Enumerate current local group.

```
$ netexec smb <IP> -u "<username>" -p "<password>" [-d <domain_name> | --local-auth] --local-groups "Administrators"
```