# Tarball

Search Tags: #post-exploitation #file-transfer-and-data-exfiltration #archive-files #linux

## 01 - Archive

### 1.1 - Basics

- The gzip (GNU zip) (`.tar.gz` or `.tgz`) file extension has moderate compression ratio but fast speed.

```
$ tar czf archive.tar.gz folder

$ tar -czvf archive.tar.gz folder
```

- The bzip2 (`.tar.gz2`) file extension has high compression ratio but slower than gzip.

```
$ tar cjf archive.tar.bz2 folder
```

- The xz (`.tar.xz`) file extension has a very high compression ratio but slower than bzip2.

```
$ tar cJf archive.tar.xz folder
```

### 1.2 - Split Volumes

- Split into multiple files.

```
$ tar cjf archive.tar.bz2 folder

$ split -b 650MB archive.tar.bz2 "archive.tar.bz2.part"

$ tar cvzf - folder/ | split -b 650MB - "archive.tar.gz.part"
```

- Join the split volumes into one file.

`$ cat archive.tar.bz2.parta* > archive-full.tar.bz2`

### 1.3 - Match specific extensions then archive the files

```
$ find /path/to/directory -type f \( -name "*.txt" -o -name "*.pdf" -o -name "*.doc" -o -name "*.docx" -o -name "*.jpg" -o -name "*.jpeg" -o -name "*.png" -o -name "*.ppt" -o -name "*.pptx" -o -name "*.xls" -o -name "*.xlsx" \) -exec tar -rvzf file.tar.gz {} +
```

## 02 - Extract

```
$ tar xzf archive.tar.gz

$ tar -C /path/to/directory -xzf archive.tar.gz

$ tar xjf archive.tar.bz2

$ tar xJf archive.tar.xz
```

---
## References

- [SS64 Bash Tar](https://ss64.com/bash/tar.html)

- [Techmint Split Large Tar Into Multiple Files of Certain Size](https://www.tecmint.com/split-large-tar-into-multiple-files-of-certain-size/)