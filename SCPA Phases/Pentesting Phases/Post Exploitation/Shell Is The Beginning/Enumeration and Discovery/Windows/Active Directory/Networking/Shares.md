# Shares

## 01 - Manual

### 1.1.1 - Command Prompt

- Get a list of locally shared drives

`C:\> net share`

`C:\> net config workstation`

`C:\> net config server`

`C:\> wmic share get /all`

### 1.1.2 - Powershell

- Get a list of locally shared drives

`PS C:\> Find-DomainShare -ComputerDomain <domain_name>`

`PS C:\> Get-CimInstance -ClassName Win32_Share -ComputerName <IP>`

`PS C:\> Get-CimInstance -ClassName Win32_Share -namespace "root\CIMV2" -ComputerName <IP>`

### 1.1.3 - CrackMapExec

`$ crackmapexec smb <IP> -u <username> -p <password> --shares`

## 02 - Impacket

`$ wmiquery <domain_name>/<username>:<password>@<IP>`

`$ wmiquery <domain_name>/<username>@<IP> -hashes :<nt_hash>`

`WQL> SELECT * FROM win32_share`

## 03 - Powersploit

### 3.1 - PowerView

- Find SMB/Samba Share folders in the network

`PS C:\> Invoke-ShareFinder`

## 04 - Cobalt Strike

`beacon> net share`