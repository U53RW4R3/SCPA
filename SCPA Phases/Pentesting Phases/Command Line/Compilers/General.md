# General

## 01 - NASM

* **Compile Linux binaries**

`$ nasm -f elf32 shell.asm -o shell.o`

`$ ld -m elf_i386 shell.o -o shell`

`$ nasm -f elf64 shell.asm -o shell.o`

`$ ld -m elf_x86_64 shell.o -o shell`

* **Compile Windows binaries in Linux**

`$ nasm -f win64 shell.asm -o shell.obj`

`$ x86_64-w64-mingw32-gcc -o shell.exe shell.obj`

`$ nasm -f win32 shell.asm -o shell.obj`

`$ i686-w64-mingw32-gcc -o shell.exe shell.obj`

* **Compile Windows Dynamic Linked Library in Linux**

`$ nasm -f win64 shell.asm -o shell.obj`

`$ x86_64-w64-mingw32-gcc -shared -o shell.dll shell.obj`

## 02 - Go

`$ go get -u golang.org/x/sys/windows`

`$ GO111MODULE=auto GOOS=windows GOARCH=amd64 go build shellrunner_win.go`

## 03 - Rust

### 3.1 - Install Toolchains

* **List of toolchains**

`$ rustc --print target-list`

* **Install toolchain**

`$ rustup target add x86_64-pc-windows-gnu`

`$ rustup target add x86_64-pc-windows-msvc`

### 3.2 - Linux

* **Compile the binary statically**

`$ rustc -C target-feature=+crt-static hello.rs`

### 3.3 - Windows

* **Select specific toolchain to compile a windows binary**

`$ cargo b -r --target x86_64-pc-windows-gnu`

`$ cargo b -r --target x86_64-pc-windows-msvc`

`$ rustc --target=x86_64-pc-windows-gnu src/main.rs`

`$ rustc --target=x86_64-pc-windows-msvc src/main.rs`