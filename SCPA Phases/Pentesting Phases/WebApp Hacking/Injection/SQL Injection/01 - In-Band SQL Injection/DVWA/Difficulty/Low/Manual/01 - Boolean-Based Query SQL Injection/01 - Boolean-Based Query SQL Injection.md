# 01 - Boolean-Based Query SQL Injection

#dvwa #sqli

Refer to [[Lab Simulation Setup/Webapps/DVWA/Setup#^214bb7|DVWA Lab Setup]] for the attacker machine to map the IP address in the `/etc/hosts`.

TODO: Provide a black-box testing and white-box testing when using [[GitHacker]] after finding sensitive data via [[Nuclei]]

This also can be used for **authentication bypass** on form-based login panels.

## 1.1 - Vulnerability Detection

### 1.1.1 - Error Detection

#### 1.1.1.1 - Break the Query

We will trigger a SQL error using `'` as a prefix to take advantage of unsantized user input.

`<Insert screenshot>`

#### 1.1.1.2 - Copying the Error Statement

First we breakdown the process step by step to figure it out how join the query to craft our final payload.

```
You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near ''1''' at line 1
```

- Understand from the developer's perspective.

```
				   ''1'''    at line 1 (SO THIS IS THE ERROR)
```

- Separate the single quotes.

```
(DELETE LEFTHANDSIDE SINGLE QUOTE) ' '1' ' ' (DELETE RIGHTHAND SIDE SINGLE QUOTE)

                                     '1' ' ' (DELETE RIGHTHAND SIDE SINGLE QUOTE)
                                     
                                     '1''
```

- Once you deleted the rest of the quotes.

```
                                     '1''    (AFTER ELIMATING THE REST WE HAVE THE REMAINING)
```

- Highlight the single quote from the right hand side of the quotes.

```
                                     '1(')'  (MARKING THE SINGLE QUOTE WITH PARENTHESES, WHICH IS BREAKING THE SQL BACKEND)
```

