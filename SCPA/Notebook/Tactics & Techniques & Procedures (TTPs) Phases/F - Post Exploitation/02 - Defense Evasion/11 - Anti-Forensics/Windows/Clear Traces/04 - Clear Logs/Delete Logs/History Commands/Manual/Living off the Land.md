# Living off the Land

## 01 - Registry Logs

## 1.1 - Command Prompt

Delete commands that was executed from windows dialog box.

```
C:\> reg query HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\RunMRU

C:\> reg delete HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\RunMRU /va /reg:64 /f
```

## 1.2 - Powershell

TODO: Convert it to cmdlets

Delete commands that was executed from windows dialog box.

```
PS C:\> HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\RunMRU

PS C:\> HKCU\Software\Microsoft\Windows\CurrentVersion\Explorer\RunMRU /f
```

## 02 - Command Prompt History Commands

To clear command prompt history the shortcut keys are **ALT+F7** and check the if it's gone

```
C:\> doskey /history
```

## 02 - Powershell History Commands

### 2.1 - Command Prompt

```
C:\> del C:\Users\%username%\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt

C:\> del %userprofile%\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt
```

### 2.2 - Powershell

```powershell
PS C:\> Clear-Content C:\Users\$Env:USERNAME\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt

PS C:\> Clear-Content $Env:USERPROFILE\AppData\Roaming\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt

PS C:\> Write-Output "null" > (Get-PSReadlineOption).HistorySavePath
```

---
## References

- [Powershell History](https://www.itechtics.com/powershell-history/)